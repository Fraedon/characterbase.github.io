(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{zD3u:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),u=function(){return function(){}}(),i=t("pMnS"),r=t("gIcY"),o=function(){return function(n){this.router=n,this.displayNameForm=new r.j({displayName:new r.h("",[r.w.required])}),this.error=null,this.loading=!1}}(),a=t("ZYCi"),s=e.pb({encapsulation:0,styles:[["form[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:intrinsic}"]],data:{}});function c(n){return e.Lb(0,[],null,null)}function b(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"cb-settings-page",[],null,null,null,c,s)),e.qb(1,49152,null,0,o,[a.k],null,null)],null,null)}var d=e.nb("cb-settings-page",o,b,{},{},[]),g=t("xaLv"),h=t("xqIe"),p=t("eoId"),m=t("gk7F"),f=t("sVBK"),v=t("M9kU"),y=t("zJzL"),C=t("ob/8"),_=t("7lbx"),B=function(){function n(){this.created=new e.m,this.universeForm=new r.j({description:new r.h(""),name:new r.h("",[r.w.required,r.w.minLength(3)])})}return n.prototype.getSubmitState=function(){return this.status.loading?_.a.Loading:this.universeForm.invalid||this.universeForm.pristine?_.a.Disabled:_.a.Allowed},n.prototype.onSubmit=function(){this.created.emit(this.universeForm.value)},n}(),k=e.pb({encapsulation:0,styles:[["form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}"]],data:{}});function w(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,21,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0,i=n.component;return"submit"===l&&(u=!1!==e.Bb(n,2).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Bb(n,2).onReset()&&u),"submit"===l&&(u=!1!==i.onSubmit()&&u),u},null,null)),e.qb(1,16384,null,0,r.y,[],null,null),e.qb(2,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Gb(2048,null,r.c,null,[r.k]),e.qb(4,16384,null,0,r.q,[[4,r.c]],null,null),(n()(),e.rb(5,0,null,null,1,"cb-form-status",[],null,null,null,g.b,g.a)),e.qb(6,49152,null,0,h.a,[],{status:[0,"status"]},null),(n()(),e.rb(7,0,null,null,5,"cb-input-control",[["formControlName","name"],["horizontal","true"],["name","Name"],["size","large"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(8,49152,null,0,m.a,[],{horizontal:[0,"horizontal"],name:[1,"name"],size:[2,"size"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(10,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(12,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(13,0,null,null,5,"cb-textarea-control",[["formControlName","description"],["horizontal","true"],["name","Description"],["rows","6"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,f.b,f.a)),e.qb(14,49152,null,0,v.a,[],{horizontal:[0,"horizontal"],name:[1,"name"],rows:[2,"rows"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[v.a]),e.qb(16,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(18,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(19,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.rb(20,0,null,null,1,"cb-submit-button",[["text","Create universe"]],null,null,null,y.b,y.a)),e.qb(21,49152,null,0,C.a,[],{state:[0,"state"],text:[1,"text"]},null)],function(n,l){var t=l.component;n(l,2,0,t.universeForm),n(l,6,0,t.status),n(l,8,0,"true","Name","large"),n(l,10,0,"name"),n(l,14,0,"true","Description","6"),n(l,16,0,"description"),n(l,21,0,t.getSubmitState(),"Create universe")},function(n,l){n(l,0,0,e.Bb(l,4).ngClassUntouched,e.Bb(l,4).ngClassTouched,e.Bb(l,4).ngClassPristine,e.Bb(l,4).ngClassDirty,e.Bb(l,4).ngClassValid,e.Bb(l,4).ngClassInvalid,e.Bb(l,4).ngClassPending),n(l,7,0,e.Bb(l,12).ngClassUntouched,e.Bb(l,12).ngClassTouched,e.Bb(l,12).ngClassPristine,e.Bb(l,12).ngClassDirty,e.Bb(l,12).ngClassValid,e.Bb(l,12).ngClassInvalid,e.Bb(l,12).ngClassPending),n(l,13,0,e.Bb(l,18).ngClassUntouched,e.Bb(l,18).ngClassTouched,e.Bb(l,18).ngClassPristine,e.Bb(l,18).ngClassDirty,e.Bb(l,18).ngClassValid,e.Bb(l,18).ngClassInvalid,e.Bb(l,18).ngClassPending)})}var P=t("2Kuh"),x=t("Ggfb"),S=function(){function n(n,l,t){this.universeService=n,this.router=l,this.universeStateService=t,this.status={loading:!1}}return n.prototype.onSubmit=function(n){var l=this;this.status={loading:!0,error:null,success:null},this.universeService.createUniverse(n).subscribe(function(n){l.router.navigate(["/u",n.id]),l.universeStateService.addUniversesWithReferences(n)},function(n){l.status.loading=!1,l.status.error=n})},n}(),q=e.pb({encapsulation:2,styles:[],data:{}});function D(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,7,"div",[["class","container dashboard-container"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Create a new universe"])),(n()(),e.rb(3,0,null,null,1,"p",[["class","lead text-secondary"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Universes are collections where you can store your characters."])),(n()(),e.rb(5,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.rb(6,0,null,null,1,"cb-universe-create-form",[],null,[[null,"created"]],function(n,l,t){var e=!0;return"created"===l&&(e=!1!==n.component.onSubmit(t)&&e),e},w,k)),e.qb(7,49152,null,0,B,[],{status:[0,"status"]},{created:"created"})],function(n,l){n(l,7,0,l.component.status)},null)}function L(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"cb-universe-create",[],null,null,null,D,q)),e.qb(1,49152,null,0,S,[P.a,a.k,x.a],null,null)],null,null)}var O=e.nb("cb-universe-create",S,L,{},{},[]),I=t("Ip0R"),M=t("hjSY"),T=function(){return function(){}}(),E=e.pb({encapsulation:0,styles:[["[_nghost-%COMP%]{padding:1rem 1rem 0}"]],data:{}});function z(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function A(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function G(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function F(n){return e.Lb(0,[e.Db(0,M.a,[]),(n()(),e.rb(1,0,null,null,7,"div",[["class","d-flex align-items-center"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,z)),e.qb(3,540672,null,0,I.p,[e.P],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.rb(4,0,null,null,2,"h1",[["class","my-0"]],null,null,null,null,null)),(n()(),e.Jb(5,null,["",""])),e.Fb(6,2),(n()(),e.ib(16777216,null,null,1,null,A)),e.qb(8,540672,null,0,I.p,[e.P],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.ib(16777216,null,null,1,null,G)),e.qb(10,540672,null,0,I.p,[e.P],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(n,l){var t=l.component;n(l,3,0,t.leading),n(l,8,0,t.trailing),n(l,10,0,t.content)},function(n,l){var t=l.component,u=e.Kb(l,5,0,n(l,6,0,e.Bb(l,0),t.title,64));n(l,5,0,u)})}var R=t("U/PX"),N=function(){function n(){this.CharacterSort=R.b}return n.prototype.getName=function(){return this.lex&&this.character.parsedName?Object(R.d)(this.character.parsedName):this.character.name},n.prototype.ngOnChanges=function(){this.reloadAvatar()},n.prototype.ngOnInit=function(){this.classes="list-group-item list-group-item-action "+(this.last?"border-bottom":"")+" "+(this.showAvatar?"":"no-avatar"),this.avatarUrl=this.character.avatarUrl?this.character.avatarUrl:"assets/blank-avatar.png"},n.prototype.reloadAvatar=function(){this.avatarUrl=this.character.avatarUrl?this.character.avatarUrl+"#"+(new Date).getTime():"assets/blank-avatar.png"},n}(),j=e.pb({encapsulation:0,styles:[[".img-thumbnail[_ngcontent-%COMP%]{width:64px;height:64px}[_nghost-%COMP%]{min-height:-webkit-min-content;min-height:-moz-min-content;min-height:min-content;display:flex;align-items:center;padding:.5rem 1rem}.no-avatar[_nghost-%COMP%]{min-height:64px}.list-group-item-secondary[_nghost-%COMP%], .list-group-item-secondary[_nghost-%COMP%]:hover{z-index:1}[_nghost-%COMP%]:hover{z-index:0}.header[_ngcontent-%COMP%]{flex-grow:1;word-break:break-all}.header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{outline:0}"]],data:{}});function U(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,0,"img",[["class","avatar mr-3"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,l.component.avatarUrl)})}function J(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,4,"h6",[["class","m-0"]],[[2,"text-muted",null]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,1).onClick()&&u),u},null,null)),e.qb(1,16384,null,0,a.l,[a.k,a.a,[8,null],e.E,e.k],{routerLink:[0,"routerLink"]},null),e.Cb(2,2),(n()(),e.Jb(3,null,[" "," "])),e.Fb(4,2)],function(n,l){var t=n(l,2,0,"c",l.component.character.id);n(l,1,0,t)},function(n,l){var t=l.component;n(l,0,0,t.character.hidden);var u=e.Kb(l,3,0,n(l,4,0,e.Bb(l.parent.parent,0),t.getName(),64));n(l,3,0,u)})}function V(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,J)),e.qb(2,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.rb(3,0,null,null,2,"small",[["class","text-muted font-italic"]],null,null,null,null,null)),(n()(),e.Jb(4,null,["",""])),e.Fb(5,2)],function(n,l){n(l,2,0,!l.component.character.nameHidden,e.Bb(l.parent,6))},function(n,l){var t=l.component,u=e.Kb(l,4,0,n(l,5,0,e.Bb(l.parent,0),t.character.tag,18));n(l,4,0,u)})}function H(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"p",[["class","m-0 text-muted font-italic"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Name hidden"]))],null,null)}function K(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,4,"div",[["class","text-right"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"h6",[["class","m-0"]],null,null,null,null,null)),(n()(),e.Jb(2,null,["",""])),(n()(),e.rb(3,0,null,null,1,"p",[["class","m-0 text-muted"]],null,null,null,null,null)),(n()(),e.Jb(4,null,["",""]))],null,function(n,l){var t=l.component;n(l,2,0,t.caption.field),n(l,4,0,t.caption.value)})}function $(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"small",[["class","text-muted"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"i",[["class","fas fa-eye-slash"]],null,null,null,null,null))],null,null)}function Z(n){return e.Lb(0,[e.Db(0,M.a,[]),(n()(),e.ib(16777216,null,null,1,null,U)),e.qb(2,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(3,0,null,null,3,"div",[["class","header"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,V)),e.qb(5,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.ib(0,[["hiddenName",2]],null,0,null,H)),(n()(),e.ib(16777216,null,null,1,null,K)),e.qb(8,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,$)),e.qb(10,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,t.showAvatar),n(l,5,0,!t.character.nameHidden,e.Bb(l,6)),n(l,8,0,t.caption),n(l,10,0,t.character.hidden)},null)}var Y=function(){function n(n){this.router=n,this.search=new e.m,this.searchForm=new r.j({search:new r.h("yeet")})}return n.prototype.ngOnChanges=function(){this.searchForm.reset()},n}(),X=e.pb({encapsulation:0,styles:[[".search[_ngcontent-%COMP%]{border:0;padding:1em;outline-width:0}form[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]{display:flex;flex-shrink:0}.toolbar-btn[_ngcontent-%COMP%]{border-radius:0;border:0;display:flex;align-items:center}"]],data:{}});function W(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,10,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0;return"submit"===l&&(u=!1!==e.Bb(n,2).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Bb(n,2).onReset()&&u),u},null,null)),e.qb(1,16384,null,0,r.y,[],null,null),e.qb(2,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Gb(2048,null,r.c,null,[r.k]),e.qb(4,16384,null,0,r.q,[[4,r.c]],null,null),(n()(),e.rb(5,0,[["s",1]],null,5,"input",[["autofocus",""],["class","search w-100"],["formControlName","search"],["size","1"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var u=!0,i=n.component;return"input"===l&&(u=!1!==e.Bb(n,6)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,6).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Bb(n,6)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Bb(n,6)._compositionEnd(t.target.value)&&u),"input"===l&&(u=!1!==i.search.emit(t.target.value)&&u),u},null,null)),e.qb(6,16384,null,0,r.d,[e.E,e.k,[2,r.a]],null,null),e.Gb(1024,null,r.n,function(n){return[n]},[r.d]),e.qb(8,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(10,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(11,0,null,null,3,"a",[["class","btn btn-primary text-white toolbar-btn"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,12).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.qb(12,671744,null,0,a.n,[a.k,a.a,I.h],{routerLink:[0,"routerLink"]},null),e.Cb(13,2),(n()(),e.rb(14,0,null,null,0,"i",[["class","fas fa-user-plus"]],null,null,null,null,null))],function(n,l){n(l,2,0,l.component.searchForm),n(l,8,0,"search");var t=n(l,13,0,"c","new");n(l,12,0,t)},function(n,l){var t=l.component;n(l,0,0,e.Bb(l,4).ngClassUntouched,e.Bb(l,4).ngClassTouched,e.Bb(l,4).ngClassPristine,e.Bb(l,4).ngClassDirty,e.Bb(l,4).ngClassValid,e.Bb(l,4).ngClassInvalid,e.Bb(l,4).ngClassPending),n(l,5,0,"Search "+t.universe.name+"\u2026",e.Bb(l,10).ngClassUntouched,e.Bb(l,10).ngClassTouched,e.Bb(l,10).ngClassPristine,e.Bb(l,10).ngClassDirty,e.Bb(l,10).ngClassValid,e.Bb(l,10).ngClassInvalid,e.Bb(l,10).ngClassPending),n(l,11,0,e.Bb(l,12).target,e.Bb(l,12).href)})}var Q=t("dXze"),nn=e.pb({encapsulation:2,styles:[],data:{}});function ln(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"li",[["class","pagination-first page-item"]],[[2,"disabled",null]],null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"a",[["class","page-link"],["href",""]],[[8,"innerHTML",1]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.selectPage(1,t)&&e),e},null,null))],null,function(n,l){var t=l.component;n(l,0,0,t.noPrevious()||t.disabled),n(l,1,0,t.getText("first"))})}function tn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"li",[["class","pagination-prev page-item"]],[[2,"disabled",null]],null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"a",[["class","page-link"],["href",""]],[[8,"innerHTML",1]],[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.selectPage(u.page-1,t)&&e),e},null,null))],null,function(n,l){var t=l.component;n(l,0,0,t.noPrevious()||t.disabled),n(l,1,0,t.getText("previous"))})}function en(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"li",[["class","pagination-page page-item"]],[[2,"active",null],[2,"disabled",null]],null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"a",[["class","page-link"],["href",""]],[[8,"innerHTML",1]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.selectPage(n.context.$implicit.number,t)&&e),e},null,null))],null,function(n,l){n(l,0,0,l.context.$implicit.active,l.component.disabled&&!l.context.$implicit.active),n(l,1,0,l.context.$implicit.text)})}function un(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"li",[["class","pagination-next page-item"]],[[2,"disabled",null]],null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"a",[["class","page-link"],["href",""]],[[8,"innerHTML",1]],[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.selectPage(u.page+1,t)&&e),e},null,null))],null,function(n,l){var t=l.component;n(l,0,0,t.noNext()||t.disabled),n(l,1,0,t.getText("next"))})}function rn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"li",[["class","pagination-last page-item"]],[[2,"disabled",null]],null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"a",[["class","page-link"],["href",""]],[[8,"innerHTML",1]],[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.selectPage(u.totalPages,t)&&e),e},null,null))],null,function(n,l){var t=l.component;n(l,0,0,t.noNext()||t.disabled),n(l,1,0,t.getText("last"))})}function on(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,11,"ul",[["class","pagination"]],null,null,null,null,null)),e.qb(1,278528,null,0,I.i,[e.s,e.t,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e.ib(16777216,null,null,1,null,ln)),e.qb(3,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,tn)),e.qb(5,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,en)),e.qb(7,278528,null,0,I.j,[e.P,e.M,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.ib(16777216,null,null,1,null,un)),e.qb(9,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,rn)),e.qb(11,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,1,0,"pagination",t.classMap),n(l,3,0,t.boundaryLinks),n(l,5,0,t.directionLinks),n(l,7,0,t.pages),n(l,9,0,t.directionLinks),n(l,11,0,t.boundaryLinks)},null)}var an=t("OZfm"),sn=t("PGy5"),cn=t("AytR"),bn=function(){function n(n){this.sanitizer=n,this.currIncludeHidden=!0,this.currSort="nominal",this.includeHidden=new e.m,this.page=new e.m,this.pageLimit=cn.a.characterPageLimit,this.search=new e.m,this.sort=new e.m}return n.prototype.getPageCount=function(){return console.log(this.total,this.pageLimit,this.total/this.pageLimit),Math.ceil(this.total/this.pageLimit)},n.prototype.ngOnInit=function(){this.universe&&(this.currSort=this.universe.settings.allowLexicographicalOrdering?"lexicographical":"nominal")},n.prototype.onPageChange=function(n){this.page.emit(n)},n}(),dn=t("ZYjt"),gn=e.pb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.list-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-top:0}.list-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #dee2e6!important}.list-group[_ngcontent-%COMP%]   a.list-group-item-secondary[_ngcontent-%COMP%]:last-child{border-bottom:1px solid rgba(0,0,0,.125)!important}.list-group.paged[_ngcontent-%COMP%]   a.list-group-item-secondary[_ngcontent-%COMP%]:last-child, .list-group.paged[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-bottom:none!important}footer[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.125);padding:0;margin:auto 0 0}pagination[_ngcontent-%COMP%]{overflow-x:auto}pagination[_ngcontent-%COMP%]     a{border:0}pagination[_ngcontent-%COMP%]     ul{padding:0;margin:0}pagination[_ngcontent-%COMP%]     li a{padding:.75rem;border-radius:0!important}.pl-3-5[_ngcontent-%COMP%]{padding-left:1.25rem}"]],data:{}});function hn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,22,"div",[["class","form-group pl-3-5"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"label",[["class","font-weight-bold"],["for","fcm-order"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Character order"])),(n()(),e.rb(3,0,null,null,13,"select",[["class","custom-select custom-select-sm"],["id","fcm-order"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"change"],[null,"blur"]],function(n,l,t){var u=!0,i=n.component;return"change"===l&&(u=!1!==e.Bb(n,4).onChange(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,4).onTouched()&&u),"ngModelChange"===l&&(u=!1!==(i.currSort=t)&&u),"input"===l&&(u=!1!==i.sort.emit(t.target.value)&&u),u},null,null)),e.qb(4,16384,null,0,r.u,[e.E,e.k],null,null),e.Gb(1024,null,r.n,function(n){return[n]},[r.u]),e.qb(6,671744,null,0,r.r,[[8,null],[8,null],[8,null],[6,r.n]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,r.o,null,[r.r]),e.qb(8,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(9,0,null,null,3,"option",[["value","nominal"]],null,null,null,null,null)),e.qb(10,147456,null,0,r.s,[e.k,e.E,[2,r.u]],{value:[0,"value"]},null),e.qb(11,147456,null,0,r.B,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(n()(),e.Jb(-1,null,["Nominal"])),(n()(),e.rb(13,0,null,null,3,"option",[["value","lexicographical"]],null,null,null,null,null)),e.qb(14,147456,null,0,r.s,[e.k,e.E,[2,r.u]],{value:[0,"value"]},null),e.qb(15,147456,null,0,r.B,[e.k,e.E,[8,null]],{value:[0,"value"]},null),(n()(),e.Jb(-1,null,["Lexicographical"])),(n()(),e.rb(17,0,null,null,5,"small",[["class","form-text"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" How character results should be ordered"])),(n()(),e.rb(19,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" Nominal \u2014 Last name, first name"])),(n()(),e.rb(21,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Lexicographical \u2014 Alphabetical "])),(n()(),e.rb(23,0,null,null,10,"div",[["class","form-check"]],null,null,null,null,null)),(n()(),e.rb(24,0,null,null,5,"input",[["class","form-check-input"],["id","fcm-hidden"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,t){var u=!0,i=n.component;return"change"===l&&(u=!1!==e.Bb(n,25).onChange(t.target.checked)&&u),"blur"===l&&(u=!1!==e.Bb(n,25).onTouched()&&u),"input"===l&&(u=!1!==i.includeHidden.emit(t.target.checked)&&u),"ngModelChange"===l&&(u=!1!==(i.currIncludeHidden=t)&&u),u},null,null)),e.qb(25,16384,null,0,r.b,[e.E,e.k],null,null),e.Gb(1024,null,r.n,function(n){return[n]},[r.b]),e.qb(27,671744,null,0,r.r,[[8,null],[8,null],[8,null],[6,r.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,r.o,null,[r.r]),e.qb(29,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(30,0,null,null,1,"label",[["class","form-check-label font-weight-bold"],["for","fcm-hidden"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Show hidden characters"])),(n()(),e.rb(32,0,null,null,1,"small",[["class","form-text"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" If checked, hidden characters (that are available to you) will be displayed in results "]))],function(n,l){var t=l.component;n(l,6,0,!t.universe.settings.allowLexicographicalOrdering,t.currSort),n(l,10,0,"nominal"),n(l,11,0,"nominal"),n(l,14,0,"lexicographical"),n(l,15,0,"lexicographical"),n(l,27,0,t.currIncludeHidden)},function(n,l){n(l,3,0,e.Bb(l,8).ngClassUntouched,e.Bb(l,8).ngClassTouched,e.Bb(l,8).ngClassPristine,e.Bb(l,8).ngClassDirty,e.Bb(l,8).ngClassValid,e.Bb(l,8).ngClassInvalid,e.Bb(l,8).ngClassPending),n(l,24,0,e.Bb(l,29).ngClassUntouched,e.Bb(l,29).ngClassTouched,e.Bb(l,29).ngClassPristine,e.Bb(l,29).ngClassDirty,e.Bb(l,29).ngClassValid,e.Bb(l,29).ngClassInvalid,e.Bb(l,29).ngClassPending)})}function pn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,6,"a",[["cb-character-list-item",""],["routerLinkActive","list-group-item-secondary"]],[[1,"target",0],[8,"href",4],[8,"className",0]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},Z,j)),e.qb(1,671744,[[2,4]],0,a.n,[a.k,a.a,I.h],{routerLink:[0,"routerLink"]},null),e.Cb(2,2),e.qb(3,1720320,null,2,a.m,[a.k,e.k,e.E,e.h],{routerLinkActive:[0,"routerLinkActive"]},null),e.Hb(603979776,1,{links:1}),e.Hb(603979776,2,{linksWithHrefs:1}),e.qb(6,638976,null,0,N,[],{character:[0,"character"],lex:[1,"lex"],showAvatar:[2,"showAvatar"]},null)],function(n,l){var t=l.component,e=n(l,2,0,"c",l.context.$implicit.id);n(l,1,0,e),n(l,3,0,"list-group-item-secondary"),n(l,6,0,l.context.$implicit,"lexicographical"===t.currSort,t.universe.settings.allowAvatars)},function(n,l){n(l,0,0,e.Bb(l,1).target,e.Bb(l,1).href,e.Bb(l,6).classes)})}function mn(n){return e.Lb(0,[(n()(),e.rb(0,0,[["list",1]],null,2,"div",[["class","list-group overflow-auto h-100"]],[[2,"list-group-flush",null],[2,"paged",null]],null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,pn)),e.qb(2,278528,null,0,I.j,[e.P,e.M,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.characters)},function(n,l){var t=l.component;n(l,0,0,t.flush,t.total>t.pageLimit)})}function fn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,6,"p",[["class","text-muted text-center mb-0 mt-4"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" There don't appear to be any characters."])),(n()(),e.rb(2,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.rb(3,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,4).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.qb(4,671744,null,0,a.n,[a.k,a.a,I.h],{routerLink:[0,"routerLink"]},null),e.Cb(5,2),(n()(),e.Jb(-1,null,["Why not create one?"]))],function(n,l){var t=n(l,5,0,"c","new");n(l,4,0,t)},function(n,l){n(l,3,0,e.Bb(l,4).target,e.Bb(l,4).href)})}function vn(n){return e.Lb(0,[(n()(),e.ib(0,[["searchSettings",2]],null,0,null,hn)),(n()(),e.rb(1,0,null,null,1,"cb-character-list-toolbar",[["class","border-bottom"]],null,[[null,"search"]],function(n,l,t){var e=!0;return"search"===l&&(e=!1!==n.component.search.emit(t)&&e),e},W,X)),e.qb(2,573440,null,0,Y,[a.k],{universe:[0,"universe"]},{search:"search"}),(n()(),e.ib(16777216,null,null,1,null,mn)),e.qb(4,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.ib(0,[["noCharacters",2]],null,0,null,fn)),(n()(),e.rb(6,0,null,null,6,"footer",[["class","d-flex justify-content-between"]],null,null,null,null,null)),(n()(),e.rb(7,0,null,null,2,"pagination",[],[[4,"visibility",null]],[[null,"pageChanged"]],function(n,l,t){var e=!0;return"pageChanged"===l&&(e=!1!==n.component.onPageChange(t.page)&&e),e},on,nn)),e.Gb(5120,null,r.n,function(n){return[n]},[Q.b]),e.qb(9,114688,null,0,Q.b,[e.E,e.k,Q.c,e.h],{align:[0,"align"],maxSize:[1,"maxSize"],rotate:[2,"rotate"],itemsPerPage:[3,"itemsPerPage"],totalItems:[4,"totalItems"]},{pageChanged:"pageChanged"}),(n()(),e.rb(10,16777216,null,null,2,"button",[["class","btn btn-link ml-auto"],["placement","top"]],null,null,null,null,null)),e.qb(11,212992,null,0,an.c,[e.k,e.E,e.P,an.a,sn.a],{popover:[0,"popover"],placement:[1,"placement"],outsideClick:[2,"outsideClick"]},null),(n()(),e.rb(12,0,null,null,0,"i",[["class","fas fa-cog"]],null,null,null,null,null))],function(n,l){var t=l.component;n(l,2,0,t.universe),n(l,4,0,t.characters.length,e.Bb(l,5)),n(l,9,0,!0,5,!0,t.pageLimit,t.total),n(l,11,0,e.Bb(l,0),"top",!0)},function(n,l){var t=l.component;n(l,7,0,t.total>t.pageLimit?"visible":"hidden")})}var yn=t("26FU"),Cn=t("67Y/"),_n=t("xMyE"),Bn=t("mrSG"),kn=t("FFOo"),wn=function(){function n(n){this.total=n}return n.prototype.call=function(n,l){return l.subscribe(new Pn(n,this.total))},n}(),Pn=function(n){function l(l,t){var e=n.call(this,l)||this;return e.total=t,e.count=0,e}return Bn.c(l,n),l.prototype._next=function(n){++this.count>this.total&&this.destination.next(n)},l}(kn.a),xn=t("T1DM"),Sn=function(){function n(n,l){this.dueTime=n,this.scheduler=l}return n.prototype.call=function(n,l){return l.subscribe(new qn(n,this.dueTime,this.scheduler))},n}(),qn=function(n){function l(l,t,e){var u=n.call(this,l)||this;return u.dueTime=t,u.scheduler=e,u.debouncedSubscription=null,u.lastValue=null,u.hasValue=!1,u}return Bn.c(l,n),l.prototype._next=function(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Dn,this.dueTime,this))},l.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},l.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var n=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}},l.prototype.clearDebounce=function(){var n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)},l}(kn.a);function Dn(n){n.debouncedNext()}var Ln=t("ad02"),On=t("MGBS"),In=t("rPjj"),Mn=t("zotm"),Tn=t("0/uQ"),En=function(){function n(n){this.project=n}return n.prototype.call=function(n,l){return l.subscribe(new zn(n,this.project))},n}(),zn=function(n){function l(l,t){var e=n.call(this,l)||this;return e.project=t,e.hasSubscription=!1,e.hasCompleted=!1,e.index=0,e}return Bn.c(l,n),l.prototype._next=function(n){this.hasSubscription||this.tryNext(n)},l.prototype.tryNext=function(n){var l,t=this.index++;try{l=this.project(n,t)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(l,n,t)},l.prototype._innerSub=function(n,l,t){var e=new In.a(this,void 0,void 0);this.destination.add(e),Object(Mn.a)(this,n,l,t,e)},l.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},l.prototype.notifyNext=function(n,l,t,e,u){this.destination.next(l)},l.prototype.notifyError=function(n){this.destination.error(n)},l.prototype.notifyComplete=function(n){this.destination.remove(n),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},l}(On.a),An=t("Ny4m"),Gn=t("8PDw"),Fn=t("rZ5W"),Rn=t("n1C0"),Nn=function(){return(Nn=Object.assign||function(n){for(var l,t=1,e=arguments.length;t<e;t++)for(var u in l=arguments[t])Object.prototype.hasOwnProperty.call(l,u)&&(n[u]=l[u]);return n}).apply(this,arguments)},jn=function(){function n(n,l,t,e,u,i,r){this.authService=n,this.route=l,this.titleService=t,this.router=e,this.characterService=u,this.characterStateService=i,this.universeStateService=r,this.descriptionHidden=!0,this.search$=new yn.a(""),this.totalCharacters=0,this.searchPage=0,this.searchQuery=""}return n.prototype.canToggleDescription=function(n){return n.length>240},n.prototype.getOwner=function(){return this.collaborators.find(function(n){return n.role===Rn.a.Owner})},n.prototype.isOwner=function(){return this.getOwner().user.id===this.user.id},n.prototype.ngOnDestroy=function(){this.searchSub.unsubscribe()},n.prototype.ngOnInit=function(){var n=this;this.route.data.subscribe(function(l){var t;n.searchPage=l.characters.page,n.totalCharacters=l.characters.total,n.titleService.setTitle(l.universe.name),n.descriptionHidden=!0,n.characters$=n.characterStateService.getReferences(),n.universe$=n.universeStateService.getUniverses().pipe(Object(Cn.a)(function(n){return n.find(function(n){return n.id===l.universe.id})}),Object(_n.a)(function(l){n.getQuery$=new yn.a({page:n.searchPage,query:n.searchQuery,includeHidden:!0,sort:l.settings.allowLexicographicalOrdering?"lexicographical":"nominal"})})),n.collaborators=l.collaborators,n.searchSub=n.getQuery$.asObservable().pipe(function(n){return n.lift(new wn(1))},(void 0===t&&(t=xn.a),function(n){return n.lift(new Sn(300,t))}),Object(Cn.a)(function(n){return Nn({},n,{query:n.query.trim(),page:n.page>1?n.page-1:0})}),Object(Ln.a)(),function n(l,t){return t?function(e){return e.pipe(n(function(n,e){return Object(Tn.a)(l(n,e)).pipe(Object(Cn.a)(function(l,u){return t(n,l,e,u)}))}))}:function(n){return n.lift(new En(l))}}(function(t){return n.characterService.getCharacters(l.universe.id,t)}),Object(_n.a)(function(l){n.totalCharacters=l.total,n.searchPage=l.page}),Object(Cn.a)(function(n){return n.characters})).subscribe(function(l){var t;n.characterStateService.clearReferences(),(t=n.characterStateService).addReferences.apply(t,l)})}),this.authService.getUser().subscribe(function(l){n.user=l})},n.prototype.onIncludeHidden=function(n){this.getQuery$.next(Nn({},this.getQuery$.value,{includeHidden:n}))},n.prototype.onPage=function(n){this.getQuery$.next(Nn({},this.getQuery$.value,{page:n}))},n.prototype.onSearch=function(n){this.searchQuery=n,this.getQuery$.next(Nn({},this.getQuery$.value,{query:n}))},n.prototype.onSort=function(n){this.getQuery$.next(Nn({},this.getQuery$.value,{sort:n}))},n.prototype.toggleDescription=function(){this.canToggleDescription&&(this.descriptionHidden=!this.descriptionHidden)},n}(),Un=e.pb({encapsulation:0,styles:[['[_nghost-%COMP%]{display:grid;grid-template-columns:40% 60%;grid-template-rows:-webkit-min-content auto;grid-template-rows:min-content auto;grid-template-areas:"header header" "list view";height:100%}cb-header[_ngcontent-%COMP%]{grid-area:header;border-bottom:1px solid rgba(0,0,0,.125)}.list[_ngcontent-%COMP%]{grid-area:list;overflow:auto}.view[_ngcontent-%COMP%]{grid-area:view;overflow:auto}.content[_ngcontent-%COMP%]{display:flex;flex:1 1 auto}.description[_ngcontent-%COMP%]{word-wrap:anywhere;text-align:justify}']],data:{}});function Jn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,3,"h5",[["class","ml-4"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,2,"a",[["routerLink","edit/general"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.qb(2,671744,null,0,a.n,[a.k,a.a,I.h],{routerLink:[0,"routerLink"]},null),(n()(),e.rb(3,0,null,null,0,"i",[["class","fas fa-cog text-body"]],null,null,null,null,null))],function(n,l){n(l,2,0,"edit/general")},function(n,l){n(l,1,0,e.Bb(l,2).target,e.Bb(l,2).href)})}function Vn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"p",[["class","ml-2 mb-0 text-muted"]],null,null,null,null,null)),(n()(),e.Jb(1,null,["Owned by ",""])),(n()(),e.rb(2,0,null,null,2,"h5",[["class","ml-auto"]],null,null,null,null,null)),(n()(),e.Jb(3,null,["",""])),(n()(),e.rb(4,0,null,null,0,"i",[["class","fas fa-users ml-2"]],null,null,null,null,null)),(n()(),e.rb(5,0,null,null,2,"h5",[["class","ml-4"]],null,null,null,null,null)),(n()(),e.Jb(6,null,["",""])),(n()(),e.rb(7,0,null,null,0,"i",[["class","fas fa-user-edit ml-2"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,Jn)),e.qb(9,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(0,null,null,0))],function(n,l){n(l,9,0,l.component.isOwner())},function(n,l){var t=l.component;n(l,1,0,t.getOwner().user.displayName),n(l,3,0,t.totalCharacters),n(l,6,0,t.collaborators.length)})}function Hn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"p",[["class","lead text-muted description"]],[[2,"clickable",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.toggleDescription()&&e),e},null,null)),(n()(),e.Jb(1,null,[" "," "])),e.Fb(2,2)],null,function(n,l){var t=l.component;n(l,0,0,t.canToggleDescription(l.parent.context.ngIf.universe.description));var u=t.descriptionHidden&&t.canToggleDescription(l.parent.context.ngIf.universe.description)?e.Kb(l,1,0,n(l,2,0,e.Bb(l.parent.parent,0),l.parent.context.ngIf.universe.description,240)):l.parent.context.ngIf.universe.description;n(l,1,0,u)})}function Kn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,10,null,null,null,null,null,null,null)),(n()(),e.ib(0,[["trailing",2]],null,0,null,Vn)),(n()(),e.ib(0,[["content",2]],null,0,null,Hn)),(n()(),e.rb(3,0,null,null,1,"cb-header",[],null,null,null,F,E)),e.qb(4,49152,null,0,T,[],{content:[0,"content"],title:[1,"title"],trailing:[2,"trailing"]},null),(n()(),e.rb(5,0,null,null,2,"div",[["class","list border-right"]],null,null,null,null,null)),(n()(),e.rb(6,0,null,null,1,"cb-character-list",[["flush","true"]],null,[[null,"search"],[null,"includeHidden"],[null,"page"],[null,"sort"]],function(n,l,t){var e=!0,u=n.component;return"search"===l&&(e=!1!==u.onSearch(t)&&e),"includeHidden"===l&&(e=!1!==u.onIncludeHidden(t)&&e),"page"===l&&(e=!1!==u.onPage(t)&&e),"sort"===l&&(e=!1!==u.onSort(t)&&e),e},vn,gn)),e.qb(7,114688,null,0,bn,[dn.b],{characters:[0,"characters"],flush:[1,"flush"],total:[2,"total"],universe:[3,"universe"]},{includeHidden:"includeHidden",page:"page",search:"search",sort:"sort"}),(n()(),e.rb(8,0,null,null,2,"div",[["class","view"]],null,null,null,null,null)),(n()(),e.rb(9,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.qb(10,212992,null,0,a.p,[a.b,e.P,e.j,[8,null],e.h],null,null)],function(n,l){var t=l.component;n(l,4,0,e.Bb(l,2),l.context.ngIf.universe.name,e.Bb(l,1)),n(l,7,0,l.context.ngIf.characters,"true",t.totalCharacters,l.context.ngIf.universe),n(l,10,0)},null)}function $n(n){return e.Lb(0,[e.Db(0,M.a,[]),(n()(),e.ib(16777216,null,null,4,null,Kn)),e.qb(2,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),e.Db(131072,I.b,[e.h]),e.Db(131072,I.b,[e.h]),e.Eb(5,{characters:0,universe:1})],function(n,l){var t=l.component,u=n(l,5,0,e.Kb(l,2,0,e.Bb(l,3).transform(t.characters$)),e.Kb(l,2,0,e.Bb(l,4).transform(t.universe$)));n(l,2,0,u)},null)}function Zn(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"cb-universe-page",[],null,null,null,$n,Un)),e.qb(1,245760,null,0,jn,[Gn.a,a.a,dn.h,a.k,Fn.a,An.a,x.a],null,null)],function(n,l){n(l,1,0)},null)}var Yn,Xn=e.nb("cb-universe-page",jn,Zn,{},{},[]),Wn=t("P6uZ"),Qn=function(){function n(n,l){this.universeService=n,this.universeStateService=l,this.universe=new yn.a(void 0)}return n.prototype.addCollaborator=function(n,l){return/\S+@\S+\.\S+/.test(l)?this.universeService.addCollaborator(n,{email:l}):this.universeService.addCollaborator(n,{id:l})},n.prototype.deleteCharacters=function(n){return this.universeService.deleteCharacters(n.id)},n.prototype.deleteUniverse=function(n){var l=this;return this.universeService.deleteUniverse(n.id).pipe(Object(_n.a)(function(){l.universeStateService.removeUniverseAndReferences(n.id)}))},n.prototype.editCollaborator=function(n,l,t){return this.universeService.editCollaborator(n,l,t)},n.prototype.getUniverse=function(){return this.universe.asObservable().pipe(Object(Wn.a)())},n.prototype.removeCollaborator=function(n,l){return this.universeService.removeCollaborator(n,l)},n.prototype.setUniverse=function(n){this.universe.next(n)},n.prototype.update=function(n,l){var t=this;return this.universeService.updateUniverse(n,l).pipe(Object(_n.a)(function(l){t.universeStateService.setUniverse(n,l)}))},n.ngInjectableDef=e.T({factory:function(){return new n(e.X(P.a),e.X(x.a))},token:n,providedIn:"root"}),n}();t("dlJ7"),function(n){n.General="general",n.Collaborators="collaborators",n.CharacterGuide="guide",n.Settings="settings"}(Yn||(Yn={}));var nl=function(){function n(n,l,t,u,i){this.authService=n,this.universeEditService=l,this.route=t,this.router=u,this.universeStateService=i,this.currentPage=Yn.General,this.saved=new e.m,this.status={error:void 0,loading:!1},this.UniverseEditPage=Yn,this.unsavedChanges=!1,this.user=this.authService.getUser()}return n.prototype.ngOnDestroy=function(){this.universeSub.unsubscribe()},n.prototype.ngOnInit=function(){var n=this;this.route.data.pipe(Object(Wn.a)()).subscribe(function(l){n.universeEditService.setUniverse(l.universe),n.universe=n.universeEditService.getUniverse(),n.universeSub=n.universeStateService.getUniverses().pipe(Object(Cn.a)(function(n){return n.find(function(n){return n.id===l.universe.id})})).subscribe(function(l){n.universeEditService.setUniverse(l),n.universe=n.universeEditService.getUniverse()})})},n}(),ll=e.pb({encapsulation:0,styles:[[".settings-view[_ngcontent-%COMP%]{display:flex}.settings-nav[_ngcontent-%COMP%]{width:180px}.settings-form[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]{display:block;height:100%;overflow:auto}"]],data:{}});function tl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"div",[["class","settings-form"]],null,null,null,null,null)),(n()(),e.rb(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.qb(2,212992,null,0,a.p,[a.b,e.P,e.j,[8,null],e.h],null,null)],function(n,l){n(l,2,0)},null)}function el(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,40,"div",[["class","container dashboard-container"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,5,"h1",[],null,null,null,null,null)),(n()(),e.rb(2,0,null,null,2,"a",[["routerLink",".."]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,3).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.qb(3,671744,null,0,a.n,[a.k,a.a,I.h],{routerLink:[0,"routerLink"]},null),(n()(),e.Jb(4,null,["",""])),(n()(),e.rb(5,0,null,null,0,"i",[["class","fas fa-angle-right ml-3 mr-3"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Edit "])),(n()(),e.rb(7,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.rb(8,0,null,null,32,"div",[["class","settings-view"]],null,null,null,null,null)),(n()(),e.rb(9,0,null,null,29,"div",[["class","settings-nav mr-3"]],null,null,null,null,null)),(n()(),e.rb(10,0,null,null,28,"ul",[["class","nav nav-pills flex-column"]],null,null,null,null,null)),(n()(),e.rb(11,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),e.rb(12,0,null,null,5,"a",[["class","nav-link"],["routerLink","general"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,13).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.qb(13,671744,[[2,4]],0,a.n,[a.k,a.a,I.h],{routerLink:[0,"routerLink"]},null),e.qb(14,1720320,null,2,a.m,[a.k,e.k,e.E,e.h],{routerLinkActive:[0,"routerLinkActive"]},null),e.Hb(603979776,1,{links:1}),e.Hb(603979776,2,{linksWithHrefs:1}),(n()(),e.Jb(-1,null,["General"])),(n()(),e.rb(18,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),e.rb(19,0,null,null,5,"a",[["class","nav-link"],["routerLink","collaborators"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,20).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.qb(20,671744,[[4,4]],0,a.n,[a.k,a.a,I.h],{routerLink:[0,"routerLink"]},null),e.qb(21,1720320,null,2,a.m,[a.k,e.k,e.E,e.h],{routerLinkActive:[0,"routerLinkActive"]},null),e.Hb(603979776,3,{links:1}),e.Hb(603979776,4,{linksWithHrefs:1}),(n()(),e.Jb(-1,null,["Collaborators"])),(n()(),e.rb(25,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),e.rb(26,0,null,null,5,"a",[["class","nav-link"],["routerLink","guide"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,27).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.qb(27,671744,[[6,4]],0,a.n,[a.k,a.a,I.h],{routerLink:[0,"routerLink"]},null),e.qb(28,1720320,null,2,a.m,[a.k,e.k,e.E,e.h],{routerLinkActive:[0,"routerLinkActive"]},null),e.Hb(603979776,5,{links:1}),e.Hb(603979776,6,{linksWithHrefs:1}),(n()(),e.Jb(-1,null,["Character Guide"])),(n()(),e.rb(32,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),e.rb(33,0,null,null,5,"a",[["class","nav-link"],["routerLink","settings"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,34).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.qb(34,671744,[[8,4]],0,a.n,[a.k,a.a,I.h],{routerLink:[0,"routerLink"]},null),e.qb(35,1720320,null,2,a.m,[a.k,e.k,e.E,e.h],{routerLinkActive:[0,"routerLinkActive"]},null),e.Hb(603979776,7,{links:1}),e.Hb(603979776,8,{linksWithHrefs:1}),(n()(),e.Jb(-1,null,["Settings"])),(n()(),e.ib(16777216,null,null,1,null,tl)),e.qb(40,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,".."),n(l,13,0,"general"),n(l,14,0,"active"),n(l,20,0,"collaborators"),n(l,21,0,"active"),n(l,27,0,"guide"),n(l,28,0,"active"),n(l,34,0,"settings"),n(l,35,0,"active"),n(l,40,0,l.context.$implicit)},function(n,l){n(l,2,0,e.Bb(l,3).target,e.Bb(l,3).href),n(l,4,0,l.context.$implicit.name),n(l,12,0,e.Bb(l,13).target,e.Bb(l,13).href),n(l,19,0,e.Bb(l,20).target,e.Bb(l,20).href),n(l,26,0,e.Bb(l,27).target,e.Bb(l,27).href),n(l,33,0,e.Bb(l,34).target,e.Bb(l,34).href)})}function ul(n){return e.Lb(0,[(n()(),e.ib(16777216,null,null,2,null,el)),e.qb(1,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),e.Db(131072,I.b,[e.h])],function(n,l){var t=l.component;n(l,1,0,e.Kb(l,1,0,e.Bb(l,2).transform(t.universe)))},null)}function il(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"cb-universe-edit",[],null,null,null,ul,ll)),e.qb(1,245760,null,0,nl,[Gn.a,Qn,a.a,a.k,x.a],null,null)],function(n,l){n(l,1,0)},null)}var rl=e.nb("cb-universe-edit",nl,il,{},{},[]),ol=t("2WpN"),al=function(){function n(n,l){this.route=n,this.universeEditService=l,this.generalForm=new r.j({name:new r.h("",[r.w.required]),description:new r.h("")}),this.status={loading:!1,error:void 0}}return n.prototype.canDeactivate=function(){return!this.generalForm.dirty||confirm("You have unsaved changes. Are you sure you want to leave this page?")},n.prototype.getSubmitState=function(){return this.status.loading?_.a.Loading:this.generalForm.valid&&this.generalForm.dirty?_.a.Allowed:_.a.Disabled},n.prototype.ngOnInit=function(){var n=this;this.universeEditService.getUniverse().subscribe(function(l){n.universe=l,n.generalForm.patchValue(n.universe)})},n.prototype.onSubmit=function(){var n=this;this.status={loading:!0,error:void 0,success:void 0},this.universeEditService.update(this.universe.id,this.generalForm.value).pipe(Object(ol.a)(function(){n.status.loading=!1,n.generalForm.markAsPristine()})).subscribe(function(l){n.universeEditService.setUniverse(l),n.status.success="Changes saved successfully"},function(l){n.status.error=l})},n}(),sl=e.pb({encapsulation:2,styles:[],data:{}});function cl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,21,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0,i=n.component;return"submit"===l&&(u=!1!==e.Bb(n,2).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Bb(n,2).onReset()&&u),"submit"===l&&(u=!1!==i.onSubmit()&&u),u},null,null)),e.qb(1,16384,null,0,r.y,[],null,null),e.qb(2,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Gb(2048,null,r.c,null,[r.k]),e.qb(4,16384,null,0,r.q,[[4,r.c]],null,null),(n()(),e.rb(5,0,null,null,1,"cb-form-status",[],null,null,null,g.b,g.a)),e.qb(6,49152,null,0,h.a,[],{status:[0,"status"]},null),(n()(),e.rb(7,0,null,null,5,"cb-input-control",[["formControlName","name"],["name","Name"],["size","large"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(8,49152,null,0,m.a,[],{name:[0,"name"],size:[1,"size"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(10,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(12,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(13,0,null,null,5,"cb-textarea-control",[["formControlName","description"],["name","Description"],["rows","5"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,f.b,f.a)),e.qb(14,49152,null,0,v.a,[],{name:[0,"name"],rows:[1,"rows"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[v.a]),e.qb(16,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(18,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(19,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.rb(20,0,null,null,1,"cb-submit-button",[["text","Save changes"]],null,null,null,y.b,y.a)),e.qb(21,49152,null,0,C.a,[],{state:[0,"state"],text:[1,"text"]},null)],function(n,l){var t=l.component;n(l,2,0,t.generalForm),n(l,6,0,t.status),n(l,8,0,"Name","large"),n(l,10,0,"name"),n(l,14,0,"Description","5"),n(l,16,0,"description"),n(l,21,0,t.getSubmitState(),"Save changes")},function(n,l){n(l,0,0,e.Bb(l,4).ngClassUntouched,e.Bb(l,4).ngClassTouched,e.Bb(l,4).ngClassPristine,e.Bb(l,4).ngClassDirty,e.Bb(l,4).ngClassValid,e.Bb(l,4).ngClassInvalid,e.Bb(l,4).ngClassPending),n(l,7,0,e.Bb(l,12).ngClassUntouched,e.Bb(l,12).ngClassTouched,e.Bb(l,12).ngClassPristine,e.Bb(l,12).ngClassDirty,e.Bb(l,12).ngClassValid,e.Bb(l,12).ngClassInvalid,e.Bb(l,12).ngClassPending),n(l,13,0,e.Bb(l,18).ngClassUntouched,e.Bb(l,18).ngClassTouched,e.Bb(l,18).ngClassPristine,e.Bb(l,18).ngClassDirty,e.Bb(l,18).ngClassValid,e.Bb(l,18).ngClassInvalid,e.Bb(l,18).ngClassPending)})}function bl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"cb-universe-edit-general",[],null,null,null,cl,sl)),e.qb(1,114688,null,0,al,[a.a,Qn],null,null)],function(n,l){n(l,1,0)},null)}var dl=e.nb("cb-universe-edit-general",al,bl,{},{},[]),gl=t("xtZt"),hl=function(){function n(n,l){this.route=n,this.universeEditService=l,this.addCollaboratorForm=new r.j({input:new r.h("",[r.w.required])}),this.CollaboratorRole=Rn.a,this.status={loading:!1}}return n.prototype.canDeactivate=function(){return!this.addCollaboratorForm.dirty||confirm("You have unsaved changes. Are you sure you want to leave this page?")},n.prototype.editCollaborator=function(n,l){var t=this;this.universeEditService.editCollaborator(this.universe.id,n,l).subscribe(function(){t.collaborators=t.collaborators.map(function(t){return t.user.id===n&&(t.role=l),t})},function(n){t.status.error=n})},n.prototype.getCollaborators=function(){var n,l=this.collaborators.find(function(n){return n.role===Rn.a.Owner}),t=this.collaborators.filter(function(n){return n.role===Rn.a.Admin}),e=this.collaborators.filter(function(n){return n.role===Rn.a.Member});return(n=[l]).concat.apply(n,this.sortCollaborators(t).concat(this.sortCollaborators(e)))},n.prototype.getRoleLabel=function(n){switch(n){case Rn.a.Owner:return"Owner";case Rn.a.Admin:return"Admin";case Rn.a.Member:return"Member"}},n.prototype.getSubmitState=function(){return this.status.loading?_.a.Loading:this.addCollaboratorForm.valid?_.a.Allowed:_.a.Disabled},n.prototype.ngOnInit=function(){var n=this;this.route.parent.data.pipe(Object(Wn.a)()).subscribe(function(l){n.collaborators=l.collaborators}),this.universeEditService.getUniverse().subscribe(function(l){n.universe=l})},n.prototype.onSubmit=function(){var n=this;this.status={loading:!0,success:void 0,error:void 0},this.universeEditService.addCollaborator(this.universe.id,this.addCollaboratorForm.value.input).pipe(Object(ol.a)(function(){n.status.loading=!1,n.addCollaboratorForm.markAsPristine()})).subscribe(function(l){n.collaborators.push(l),n.status.success="Successfully added "+l.user.displayName,n.addCollaboratorForm.reset()},function(l){return n.status.error=l})},n.prototype.removeCollaborator=function(n){var l=this;this.universeEditService.removeCollaborator(this.universe.id,n).subscribe(function(){l.collaborators=l.collaborators.filter(function(l){return l.user.id!==n})},function(n){l.status.error=n})},n.prototype.sortCollaborators=function(n){return n.sort(function(n,l){return n.user.displayName>l.user.displayName?1:n.user.displayName<l.user.displayName?-1:0})},n}(),pl=e.pb({encapsulation:2,styles:[],data:{}});function ml(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,6,"div",[["class","dropdown-menu"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,2,"button",[["class","dropdown-item"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.editCollaborator(n.parent.parent.context.$implicit.user.id,u.CollaboratorRole.Admin)&&e),e},null,null)),(n()(),e.rb(2,0,null,null,0,"i",[["class","fas fa-user-shield mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Admin "])),(n()(),e.rb(4,0,null,null,2,"button",[["class","dropdown-item"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.editCollaborator(n.parent.parent.context.$implicit.user.id,u.CollaboratorRole.Member)&&e),e},null,null)),(n()(),e.rb(5,0,null,null,0,"i",[["class","fas fa-user mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Member "]))],null,function(n,l){var t=l.component;n(l,1,0,l.parent.parent.context.$implicit.role===t.CollaboratorRole.Admin),n(l,4,0,l.parent.parent.context.$implicit.role===t.CollaboratorRole.Member)})}function fl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,12,null,null,null,null,null,null,null)),(n()(),e.rb(1,16777216,null,null,8,"div",[["class","btn-group mr-2"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),e.Gb(512,null,gl.f,gl.f,[]),e.qb(3,212992,null,0,gl.c,[e.k,e.E,e.P,sn.a,gl.a,gl.f],null,null),(n()(),e.rb(4,0,null,null,3,"button",[["class","btn btn-secondary dropdown-toggle"],["dropdownToggle",""],["type","button"]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],["document","click"],[null,"keyup.esc"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,5).onClick()&&u),"document:click"===l&&(u=!1!==e.Bb(n,5).onDocumentClick(t)&&u),"keyup.esc"===l&&(u=!1!==e.Bb(n,5).onEsc()&&u),u},null,null)),e.qb(5,147456,null,0,gl.g,[gl.f,e.k],null,null),(n()(),e.Jb(-1,null,[" Set role "])),(n()(),e.rb(7,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,ml)),e.qb(9,16384,null,0,gl.d,[gl.f,e.P,e.M],null,null),(n()(),e.rb(10,0,null,null,2,"div",[["class","btn-group"]],null,null,null,null,null)),(n()(),e.rb(11,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.removeCollaborator(n.parent.context.$implicit.user.id)&&e),e},null,null)),(n()(),e.Jb(-1,null,[" Remove "]))],function(n,l){n(l,3,0)},function(n,l){n(l,1,0,e.Bb(l,3).dropup,e.Bb(l,3).isOpen,e.Bb(l,3).isOpen&&e.Bb(l,3).isBs4),n(l,4,0,!0,e.Bb(l,5).isDisabled,e.Bb(l,5).isOpen)})}function vl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,7,"div",[["class","btn-toolbar mb-2"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,4,"div",[["class","input-group w-50 mr-2"]],null,null,null,null,null)),(n()(),e.rb(2,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(n()(),e.rb(3,0,null,null,1,"div",[["class","input-group-text"]],null,null,null,null,null)),(n()(),e.Jb(4,null,["",""])),(n()(),e.rb(5,0,null,null,0,"input",[["class","form-control"],["readonly","true"],["type","text"]],[[8,"value",0]],null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,fl)),e.qb(7,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,7,0,l.context.$implicit.role!==l.component.CollaboratorRole.Owner)},function(n,l){n(l,4,0,l.component.getRoleLabel(l.context.$implicit.role)),n(l,5,0,l.context.$implicit.user.displayName)})}function yl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"cb-form-status",[],null,null,null,g.b,g.a)),e.qb(1,49152,null,0,h.a,[],{status:[0,"status"]},null),(n()(),e.ib(16777216,null,null,1,null,vl)),e.qb(3,278528,null,0,I.j,[e.P,e.M,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.rb(4,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.rb(5,0,null,null,13,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0,i=n.component;return"submit"===l&&(u=!1!==e.Bb(n,7).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Bb(n,7).onReset()&&u),"submit"===l&&(u=!1!==i.onSubmit()&&u),u},null,null)),e.qb(6,16384,null,0,r.y,[],null,null),e.qb(7,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Gb(2048,null,r.c,null,[r.k]),e.qb(9,16384,null,0,r.q,[[4,r.c]],null,null),(n()(),e.rb(10,0,null,null,8,"div",[["class","btn-toolbar mb-2"]],null,null,null,null,null)),(n()(),e.rb(11,0,null,null,5,"input",[["class","form-control mr-2 w-50"],["formControlName","input"],["placeholder","Enter an email address or user ID"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var u=!0;return"input"===l&&(u=!1!==e.Bb(n,12)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,12).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Bb(n,12)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Bb(n,12)._compositionEnd(t.target.value)&&u),u},null,null)),e.qb(12,16384,null,0,r.d,[e.E,e.k,[2,r.a]],null,null),e.Gb(1024,null,r.n,function(n){return[n]},[r.d]),e.qb(14,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(16,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(17,0,null,null,1,"cb-submit-button",[["text","Add collaborator"]],null,null,null,y.b,y.a)),e.qb(18,49152,null,0,C.a,[],{state:[0,"state"],text:[1,"text"]},null),(n()(),e.rb(19,0,null,null,4,"small",[["class","form-text text-muted w-50"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Note: Collaborators with the Admin role can add and remove other members, moderate characters, and edit your universe."])),(n()(),e.rb(21,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.rb(22,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Think twice before handing over those powers."]))],function(n,l){var t=l.component;n(l,1,0,t.status),n(l,3,0,t.getCollaborators()),n(l,7,0,t.addCollaboratorForm),n(l,14,0,"input"),n(l,18,0,t.getSubmitState(),"Add collaborator")},function(n,l){n(l,5,0,e.Bb(l,9).ngClassUntouched,e.Bb(l,9).ngClassTouched,e.Bb(l,9).ngClassPristine,e.Bb(l,9).ngClassDirty,e.Bb(l,9).ngClassValid,e.Bb(l,9).ngClassInvalid,e.Bb(l,9).ngClassPending),n(l,11,0,e.Bb(l,16).ngClassUntouched,e.Bb(l,16).ngClassTouched,e.Bb(l,16).ngClassPristine,e.Bb(l,16).ngClassDirty,e.Bb(l,16).ngClassValid,e.Bb(l,16).ngClassInvalid,e.Bb(l,16).ngClassPending)})}function Cl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"cb-universe-edit-collaborators",[],null,null,null,yl,pl)),e.qb(1,114688,null,0,hl,[a.a,Qn],null,null)],function(n,l){n(l,1,0)},null)}var _l=e.nb("cb-universe-edit-collaborators",hl,Cl,{},{},[]),Bl=t("CIof"),kl=t("/SjC"),wl=function(){function n(){this.horizontal=!1,this.onChanged=function(n){},this.onTouched=function(){}}return Object.defineProperty(n.prototype,"controlId",{get:function(){return"fc-"+this.name.replace(" ","-").toLowerCase()},enumerable:!0,configurable:!0}),n.prototype.registerOnChange=function(n){this.onChanged=n},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this.disabled=n},n.prototype.setValue=function(n){this.value=n,console.log(this.value),this.onChanged(this.value),this.onTouched()},n.prototype.writeValue=function(n){this.value=n},n}(),Pl=e.pb({encapsulation:0,styles:[[".ng-invalid.ng-touched.ng-dirty[_nghost-%COMP%]   input[_ngcontent-%COMP%], .ng-invalid.ng-touched.ng-dirty[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{border-color:#dc3545}.ng-invalid.ng-touched.ng-dirty[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, .ng-invalid.ng-touched.ng-dirty[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}"]],data:{}});function xl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"option",[],[[8,"value",0]],null,null,null,null)),(n()(),e.Jb(1,null,[" "," "]))],null,function(n,l){n(l,0,0,l.context.$implicit),n(l,1,0,l.context.$implicit)})}function Sl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"small",[["class","text-muted form-text"]],null,null,null,null,null)),(n()(),e.Jb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.help)})}function ql(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"select",[["class","custom-select"]],[[8,"id",0],[8,"autofocus",0],[8,"value",0],[8,"disabled",0]],[[null,"change"],[null,"blur"]],function(n,l,t){var e=!0,u=n.component;return"change"===l&&(e=!1!==u.setValue(t.target.value)&&e),"blur"===l&&(e=!1!==u.onTouched()&&e),e},null,null)),(n()(),e.ib(16777216,null,null,1,null,xl)),e.qb(2,278528,null,0,I.j,[e.P,e.M,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.ib(16777216,null,null,1,null,Sl)),e.qb(4,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(0,null,null,0))],function(n,l){var t=l.component;n(l,2,0,t.options),n(l,4,0,t.help)},function(n,l){var t=l.component;n(l,0,0,t.controlId,t.autofocus,t.value,t.disabled)})}function Dl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ll(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"div",[["class","col-sm-10 my-auto"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,Dl)),e.qb(2,540672,null,0,I.p,[e.P],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(n,l){n(l,2,0,e.Bb(l.parent,0))},null)}function Ol(n){return e.Lb(0,[(n()(),e.ib(0,[["input",2]],null,0,null,ql)),(n()(),e.rb(1,0,null,null,9,"div",[["class","form-group"]],[[2,"row",null]],null,null,null,null)),(n()(),e.rb(2,0,null,null,3,"label",[],[[8,"htmlFor",0]],null,null,null,null)),e.qb(3,278528,null,0,I.i,[e.s,e.t,e.k,e.E],{ngClass:[0,"ngClass"]},null),e.Eb(4,{"col-sm-2 col-form-label":0}),(n()(),e.Jb(5,null,["",""])),(n()(),e.rb(6,0,null,null,2,"label",[["class","float-right"]],null,null,null,null,null)),(n()(),e.rb(7,16777216,null,null,1,null,null,null,null,null,null,null)),e.qb(8,540672,null,0,I.p,[e.P],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(n()(),e.ib(16777216,null,null,1,null,Ll)),e.qb(10,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(n,l){var t=l.component,u=n(l,4,0,t.horizontal);n(l,3,0,u),n(l,8,0,t.labelToolbarContext,t.labelToolbar),n(l,10,0,t.horizontal,e.Bb(l,0))},function(n,l){var t=l.component;n(l,1,0,t.horizontal),n(l,2,0,t.controlId),n(l,5,0,t.name)})}var Il=function(){function n(){this.CharacterFieldType=R.a,this.classes="card border-secondary card-body mb-2"}return n.prototype.getDefaultType=function(){switch(this.type){case R.a.Number:case R.a.Progress:return"number";default:return"text"}},n.prototype.getProgressColors=function(){return Object.values(R.c)},n}(),Ml=e.pb({encapsulation:2,styles:[],data:{}});function Tl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,18,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,5,"cb-input-control",[["formControlName","pattern"],["help","If a RegEx pattern is set, text in this field must match against it"],["horizontal","true"],["name","Pattern"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(2,49152,null,0,m.a,[],{help:[0,"help"],horizontal:[1,"horizontal"],name:[2,"name"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(4,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(6,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(7,0,null,null,5,"cb-input-control",[["formControlName","minLength"],["horizontal","true"],["name","Minimum Length"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(8,49152,null,0,m.a,[],{horizontal:[0,"horizontal"],name:[1,"name"],type:[2,"type"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(10,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(12,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(13,0,null,null,5,"cb-input-control",[["formControlName","maxLength"],["horizontal","true"],["name","Maximum Length"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(14,49152,null,0,m.a,[],{horizontal:[0,"horizontal"],name:[1,"name"],type:[2,"type"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(16,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(18,16384,null,0,r.p,[[4,r.o]],null,null)],function(n,l){n(l,2,0,"If a RegEx pattern is set, text in this field must match against it","true","Pattern"),n(l,4,0,"pattern"),n(l,8,0,"true","Minimum Length","number"),n(l,10,0,"minLength"),n(l,14,0,"true","Maximum Length","number"),n(l,16,0,"maxLength")},function(n,l){n(l,1,0,e.Bb(l,6).ngClassUntouched,e.Bb(l,6).ngClassTouched,e.Bb(l,6).ngClassPristine,e.Bb(l,6).ngClassDirty,e.Bb(l,6).ngClassValid,e.Bb(l,6).ngClassInvalid,e.Bb(l,6).ngClassPending),n(l,7,0,e.Bb(l,12).ngClassUntouched,e.Bb(l,12).ngClassTouched,e.Bb(l,12).ngClassPristine,e.Bb(l,12).ngClassDirty,e.Bb(l,12).ngClassValid,e.Bb(l,12).ngClassInvalid,e.Bb(l,12).ngClassPending),n(l,13,0,e.Bb(l,18).ngClassUntouched,e.Bb(l,18).ngClassTouched,e.Bb(l,18).ngClassPristine,e.Bb(l,18).ngClassDirty,e.Bb(l,18).ngClassValid,e.Bb(l,18).ngClassInvalid,e.Bb(l,18).ngClassPending)})}function El(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,18,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,5,"cb-checkbox-control",[["formControlName","markdown"],["help","Enabling Markdown allows collaborators to stylize text within this field (e.g. bold, italics, tables)"],["horizontal","true"],["name","Markdown"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Bl.b,Bl.a)),e.qb(2,49152,null,0,kl.a,[],{help:[0,"help"],horizontal:[1,"horizontal"],name:[2,"name"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[kl.a]),e.qb(4,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(6,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(7,0,null,null,5,"cb-input-control",[["formControlName","minLength"],["horizontal","true"],["name","Minimum Length"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(8,49152,null,0,m.a,[],{horizontal:[0,"horizontal"],name:[1,"name"],type:[2,"type"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(10,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(12,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(13,0,null,null,5,"cb-input-control",[["formControlName","maxLength"],["horizontal","true"],["name","Maximum Length"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(14,49152,null,0,m.a,[],{horizontal:[0,"horizontal"],name:[1,"name"],type:[2,"type"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(16,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(18,16384,null,0,r.p,[[4,r.o]],null,null)],function(n,l){n(l,2,0,"Enabling Markdown allows collaborators to stylize text within this field (e.g. bold, italics, tables)","true","Markdown"),n(l,4,0,"markdown"),n(l,8,0,"true","Minimum Length","number"),n(l,10,0,"minLength"),n(l,14,0,"true","Maximum Length","number"),n(l,16,0,"maxLength")},function(n,l){n(l,1,0,e.Bb(l,6).ngClassUntouched,e.Bb(l,6).ngClassTouched,e.Bb(l,6).ngClassPristine,e.Bb(l,6).ngClassDirty,e.Bb(l,6).ngClassValid,e.Bb(l,6).ngClassInvalid,e.Bb(l,6).ngClassPending),n(l,7,0,e.Bb(l,12).ngClassUntouched,e.Bb(l,12).ngClassTouched,e.Bb(l,12).ngClassPristine,e.Bb(l,12).ngClassDirty,e.Bb(l,12).ngClassValid,e.Bb(l,12).ngClassInvalid,e.Bb(l,12).ngClassPending),n(l,13,0,e.Bb(l,18).ngClassUntouched,e.Bb(l,18).ngClassTouched,e.Bb(l,18).ngClassPristine,e.Bb(l,18).ngClassDirty,e.Bb(l,18).ngClassValid,e.Bb(l,18).ngClassInvalid,e.Bb(l,18).ngClassPending)})}function zl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,24,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,5,"cb-checkbox-control",[["formControlName","float"],["help","Enabling Float allows numbers in this field to be fractional (i.e. having decimals)"],["horizontal","true"],["name","Float"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Bl.b,Bl.a)),e.qb(2,49152,null,0,kl.a,[],{help:[0,"help"],horizontal:[1,"horizontal"],name:[2,"name"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[kl.a]),e.qb(4,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(6,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(7,0,null,null,5,"cb-input-control",[["formControlName","min"],["horizontal","true"],["name","Minimum"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(8,49152,null,0,m.a,[],{horizontal:[0,"horizontal"],name:[1,"name"],type:[2,"type"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(10,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(12,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(13,0,null,null,5,"cb-input-control",[["formControlName","max"],["horizontal","true"],["name","Maximum"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(14,49152,null,0,m.a,[],{horizontal:[0,"horizontal"],name:[1,"name"],type:[2,"type"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(16,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(18,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(19,0,null,null,5,"cb-input-control",[["formControlName","tick"],["help","If Tick is greater than 0, numbers set in this field must be evenly divisible by its value"],["horizontal","true"],["name","Tick"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(20,49152,null,0,m.a,[],{float:[0,"float"],help:[1,"help"],horizontal:[2,"horizontal"],name:[3,"name"],type:[4,"type"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(22,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(24,16384,null,0,r.p,[[4,r.o]],null,null)],function(n,l){n(l,2,0,"Enabling Float allows numbers in this field to be fractional (i.e. having decimals)","true","Float"),n(l,4,0,"float"),n(l,8,0,"true","Minimum","number"),n(l,10,0,"min"),n(l,14,0,"true","Maximum","number"),n(l,16,0,"max"),n(l,20,0,!0,"If Tick is greater than 0, numbers set in this field must be evenly divisible by its value","true","Tick","number"),n(l,22,0,"tick")},function(n,l){n(l,1,0,e.Bb(l,6).ngClassUntouched,e.Bb(l,6).ngClassTouched,e.Bb(l,6).ngClassPristine,e.Bb(l,6).ngClassDirty,e.Bb(l,6).ngClassValid,e.Bb(l,6).ngClassInvalid,e.Bb(l,6).ngClassPending),n(l,7,0,e.Bb(l,12).ngClassUntouched,e.Bb(l,12).ngClassTouched,e.Bb(l,12).ngClassPristine,e.Bb(l,12).ngClassDirty,e.Bb(l,12).ngClassValid,e.Bb(l,12).ngClassInvalid,e.Bb(l,12).ngClassPending),n(l,13,0,e.Bb(l,18).ngClassUntouched,e.Bb(l,18).ngClassTouched,e.Bb(l,18).ngClassPristine,e.Bb(l,18).ngClassDirty,e.Bb(l,18).ngClassValid,e.Bb(l,18).ngClassInvalid,e.Bb(l,18).ngClassPending),n(l,19,0,e.Bb(l,24).ngClassUntouched,e.Bb(l,24).ngClassTouched,e.Bb(l,24).ngClassPristine,e.Bb(l,24).ngClassDirty,e.Bb(l,24).ngClassValid,e.Bb(l,24).ngClassInvalid,e.Bb(l,24).ngClassPending)})}function Al(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,30,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,5,"cb-checkbox-control",[["formControlName","bar"],["help","Enabling Bar will cause this field to be displayed as a progress bar instead of a number"],["horizontal","true"],["name","Bar"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Bl.b,Bl.a)),e.qb(2,49152,null,0,kl.a,[],{help:[0,"help"],horizontal:[1,"horizontal"],name:[2,"name"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[kl.a]),e.qb(4,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(6,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(7,0,null,null,5,"cb-select-control",[["formControlName","color"],["horizontal","true"],["name","Color"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Ol,Pl)),e.qb(8,49152,null,0,wl,[],{horizontal:[0,"horizontal"],name:[1,"name"],options:[2,"options"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[wl]),e.qb(10,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(12,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(13,0,null,null,5,"cb-input-control",[["formControlName","min"],["horizontal","true"],["name","Minimum"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(14,49152,null,0,m.a,[],{horizontal:[0,"horizontal"],name:[1,"name"],type:[2,"type"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(16,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(18,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(19,0,null,null,5,"cb-input-control",[["formControlName","max"],["horizontal","true"],["name","Maximum"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(20,49152,null,0,m.a,[],{horizontal:[0,"horizontal"],name:[1,"name"],type:[2,"type"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(22,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(24,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(25,0,null,null,5,"cb-input-control",[["formControlName","tick"],["help","If Tick is greater than 0, numbers set in this field must be evenly divisible by its value"],["horizontal","true"],["name","Tick"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(26,49152,null,0,m.a,[],{float:[0,"float"],help:[1,"help"],horizontal:[2,"horizontal"],name:[3,"name"],type:[4,"type"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(28,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(30,16384,null,0,r.p,[[4,r.o]],null,null)],function(n,l){var t=l.component;n(l,2,0,"Enabling Bar will cause this field to be displayed as a progress bar instead of a number","true","Bar"),n(l,4,0,"bar"),n(l,8,0,"true","Color",t.getProgressColors()),n(l,10,0,"color"),n(l,14,0,"true","Minimum","number"),n(l,16,0,"min"),n(l,20,0,"true","Maximum","number"),n(l,22,0,"max"),n(l,26,0,!0,"If Tick is greater than 0, numbers set in this field must be evenly divisible by its value","true","Tick","number"),n(l,28,0,"tick")},function(n,l){n(l,1,0,e.Bb(l,6).ngClassUntouched,e.Bb(l,6).ngClassTouched,e.Bb(l,6).ngClassPristine,e.Bb(l,6).ngClassDirty,e.Bb(l,6).ngClassValid,e.Bb(l,6).ngClassInvalid,e.Bb(l,6).ngClassPending),n(l,7,0,e.Bb(l,12).ngClassUntouched,e.Bb(l,12).ngClassTouched,e.Bb(l,12).ngClassPristine,e.Bb(l,12).ngClassDirty,e.Bb(l,12).ngClassValid,e.Bb(l,12).ngClassInvalid,e.Bb(l,12).ngClassPending),n(l,13,0,e.Bb(l,18).ngClassUntouched,e.Bb(l,18).ngClassTouched,e.Bb(l,18).ngClassPristine,e.Bb(l,18).ngClassDirty,e.Bb(l,18).ngClassValid,e.Bb(l,18).ngClassInvalid,e.Bb(l,18).ngClassPending),n(l,19,0,e.Bb(l,24).ngClassUntouched,e.Bb(l,24).ngClassTouched,e.Bb(l,24).ngClassPristine,e.Bb(l,24).ngClassDirty,e.Bb(l,24).ngClassValid,e.Bb(l,24).ngClassInvalid,e.Bb(l,24).ngClassPending),n(l,25,0,e.Bb(l,30).ngClassUntouched,e.Bb(l,30).ngClassTouched,e.Bb(l,30).ngClassPristine,e.Bb(l,30).ngClassDirty,e.Bb(l,30).ngClassValid,e.Bb(l,30).ngClassInvalid,e.Bb(l,30).ngClassPending)})}function Gl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,12,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,5,"cb-checkbox-control",[["formControlName","multiple"],["help","Enabling Multiple allows more than one option to be selected"],["horizontal","true"],["name","Multiple"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Bl.b,Bl.a)),e.qb(2,49152,null,0,kl.a,[],{help:[0,"help"],horizontal:[1,"horizontal"],name:[2,"name"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[kl.a]),e.qb(4,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(6,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(7,0,null,null,5,"cb-input-control",[["formControlName","options"],["help","Separate options with a comma (e.g. red, green, blue)"],["horizontal","true"],["list","true"],["name","Options"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(8,49152,null,0,m.a,[],{help:[0,"help"],horizontal:[1,"horizontal"],list:[2,"list"],name:[3,"name"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(10,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(12,16384,null,0,r.p,[[4,r.o]],null,null)],function(n,l){n(l,2,0,"Enabling Multiple allows more than one option to be selected","true","Multiple"),n(l,4,0,"multiple"),n(l,8,0,"Separate options with a comma (e.g. red, green, blue)","true","true","Options"),n(l,10,0,"options")},function(n,l){n(l,1,0,e.Bb(l,6).ngClassUntouched,e.Bb(l,6).ngClassTouched,e.Bb(l,6).ngClassPristine,e.Bb(l,6).ngClassDirty,e.Bb(l,6).ngClassValid,e.Bb(l,6).ngClassInvalid,e.Bb(l,6).ngClassPending),n(l,7,0,e.Bb(l,12).ngClassUntouched,e.Bb(l,12).ngClassTouched,e.Bb(l,12).ngClassPristine,e.Bb(l,12).ngClassDirty,e.Bb(l,12).ngClassValid,e.Bb(l,12).ngClassInvalid,e.Bb(l,12).ngClassPending)})}function Fl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,12,null,null,null,null,null,null,null)),(n()(),e.rb(1,0,null,null,5,"cb-input-control",[["formControlName","minElements"],["horizontal","true"],["name","Minimum Elements"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(2,49152,null,0,m.a,[],{horizontal:[0,"horizontal"],name:[1,"name"],type:[2,"type"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(4,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(6,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(7,0,null,null,5,"cb-input-control",[["formControlName","maxElements"],["horizontal","true"],["name","Maximum Elements"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(8,49152,null,0,m.a,[],{horizontal:[0,"horizontal"],name:[1,"name"],type:[2,"type"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(10,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(12,16384,null,0,r.p,[[4,r.o]],null,null)],function(n,l){n(l,2,0,"true","Minimum Elements","number"),n(l,4,0,"minElements"),n(l,8,0,"true","Maximum Elements","number"),n(l,10,0,"maxElements")},function(n,l){n(l,1,0,e.Bb(l,6).ngClassUntouched,e.Bb(l,6).ngClassTouched,e.Bb(l,6).ngClassPristine,e.Bb(l,6).ngClassDirty,e.Bb(l,6).ngClassValid,e.Bb(l,6).ngClassInvalid,e.Bb(l,6).ngClassPending),n(l,7,0,e.Bb(l,12).ngClassUntouched,e.Bb(l,12).ngClassTouched,e.Bb(l,12).ngClassPristine,e.Bb(l,12).ngClassDirty,e.Bb(l,12).ngClassValid,e.Bb(l,12).ngClassInvalid,e.Bb(l,12).ngClassPending)})}function Rl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,33,null,null,null,null,function(n,l,t){var u=!0;return"submit"===l&&(u=!1!==e.Bb(n,1).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Bb(n,1).onReset()&&u),u},null,null)),e.qb(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Gb(2048,null,r.c,null,[r.k]),e.qb(3,16384,null,0,r.q,[[4,r.c]],null,null),(n()(),e.rb(4,0,null,null,5,"cb-checkbox-control",[["formControlName","required"],["horizontal","true"],["name","Required"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Bl.b,Bl.a)),e.qb(5,49152,null,0,kl.a,[],{horizontal:[0,"horizontal"],name:[1,"name"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[kl.a]),e.qb(7,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(9,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(10,0,null,null,5,"cb-input-control",[["formControlName","description"],["help","A helpful description that will be displayed alongside this field when creating characters"],["horizontal","true"],["name","Description"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(11,49152,null,0,m.a,[],{help:[0,"help"],horizontal:[1,"horizontal"],name:[2,"name"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(13,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(15,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(16,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.rb(17,0,null,null,16,null,null,null,null,null,null,null)),e.qb(18,16384,null,0,I.n,[],{ngSwitch:[0,"ngSwitch"]},null),e.qb(19,212992,null,0,r.l,[[3,r.c],[8,null],[8,null]],{name:[0,"name"]},null),e.Gb(2048,null,r.c,null,[r.l]),e.qb(21,16384,null,0,r.q,[[4,r.c]],null,null),(n()(),e.ib(16777216,null,null,1,null,Tl)),e.qb(23,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,El)),e.qb(25,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,zl)),e.qb(27,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,Al)),e.qb(29,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,Gl)),e.qb(31,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,Fl)),e.qb(33,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(n,l){var t=l.component;n(l,1,0,t.field),n(l,5,0,"true","Required"),n(l,7,0,"required"),n(l,11,0,"A helpful description that will be displayed alongside this field when creating characters","true","Description"),n(l,13,0,"description"),n(l,18,0,t.type),n(l,19,0,"meta"),n(l,23,0,t.CharacterFieldType.Text),n(l,25,0,t.CharacterFieldType.Description),n(l,27,0,t.CharacterFieldType.Number),n(l,29,0,t.CharacterFieldType.Progress),n(l,31,0,t.CharacterFieldType.Options),n(l,33,0,t.CharacterFieldType.List)},function(n,l){n(l,4,0,e.Bb(l,9).ngClassUntouched,e.Bb(l,9).ngClassTouched,e.Bb(l,9).ngClassPristine,e.Bb(l,9).ngClassDirty,e.Bb(l,9).ngClassValid,e.Bb(l,9).ngClassInvalid,e.Bb(l,9).ngClassPending),n(l,10,0,e.Bb(l,15).ngClassUntouched,e.Bb(l,15).ngClassTouched,e.Bb(l,15).ngClassPristine,e.Bb(l,15).ngClassDirty,e.Bb(l,15).ngClassValid,e.Bb(l,15).ngClassInvalid,e.Bb(l,15).ngClassPending)})}var Nl=function(){function n(){this.CharacterFieldType=R.a,this.deleted=new e.m,this.showSettings=!1}return n.prototype.getType=function(){return this.field.get("type").value},n}(),jl=e.pb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}input.ng-invalid[_ngcontent-%COMP%]:not(.ng-dirty), textarea.ng-invalid[_ngcontent-%COMP%]:not(.ng-dirty){border-color:#ffc107}input.ng-invalid[_ngcontent-%COMP%]:not(.ng-dirty):focus, textarea.ng-invalid[_ngcontent-%COMP%]:not(.ng-dirty):focus{box-shadow:0 0 0 .2rem rgba(216,203,22,.25)}"]],data:{}});function Ul(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"i",[["class","fas fa-align-left mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Text "]))],null,null)}function Jl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"i",[["class","fas fa-align-justify mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Description "]))],null,null)}function Vl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"i",[["class","fas fa-sort-numeric-up mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Number "]))],null,null)}function Hl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"i",[["class","fas fa-toggle-on mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Toggle "]))],null,null)}function Kl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"i",[["class","fas fa-percentage mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Progress "]))],null,null)}function $l(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"i",[["class","fas fa-user mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Reference "]))],null,null)}function Zl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"i",[["class","fas fa-shapes mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Options "]))],null,null)}function Yl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"i",[["class","fas fa-list-ol mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["List "]))],null,null)}function Xl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"cb-universe-edit-guide-field-settings",[],[[8,"className",0]],null,null,Rl,Ml)),e.qb(1,49152,null,0,Il,[],{field:[0,"field"],type:[1,"type"]},null)],function(n,l){var t=l.component;n(l,1,0,t.field,t.getType())},function(n,l){n(l,0,0,e.Bb(l,1).classes)})}function Wl(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,32,"div",[["class","input-group mb-2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0;return"submit"===l&&(u=!1!==e.Bb(n,1).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Bb(n,1).onReset()&&u),u},null,null)),e.qb(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Gb(2048,null,r.c,null,[r.k]),e.qb(3,16384,null,0,r.q,[[4,r.c]],null,null),(n()(),e.rb(4,0,null,null,17,"div",[["class","input-group-prepend"]],null,null,null,null,null)),e.qb(5,16384,null,0,I.n,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),e.ib(16777216,null,null,1,null,Ul)),e.qb(7,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,Jl)),e.qb(9,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,Vl)),e.qb(11,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,Hl)),e.qb(13,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,Kl)),e.qb(15,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,$l)),e.qb(17,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,Zl)),e.qb(19,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.ib(16777216,null,null,1,null,Yl)),e.qb(21,278528,null,0,I.o,[e.P,e.M,I.n],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.rb(22,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["placeholder","Enter a name for this field..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var u=!0;return"input"===l&&(u=!1!==e.Bb(n,23)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,23).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Bb(n,23)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Bb(n,23)._compositionEnd(t.target.value)&&u),u},null,null)),e.qb(23,16384,null,0,r.d,[e.E,e.k,[2,r.a]],null,null),e.Gb(1024,null,r.n,function(n){return[n]},[r.d]),e.qb(25,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(27,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(28,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(n()(),e.rb(29,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],[[2,"active",null]],[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=0!=(u.showSettings=!u.showSettings)&&e),e},null,null)),(n()(),e.rb(30,0,null,null,0,"i",[["class","fas fa-caret-down"]],null,null,null,null,null)),(n()(),e.rb(31,0,null,null,1,"button",[["class","btn btn-outline-danger"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.deleted.emit()&&e),e},null,null)),(n()(),e.rb(32,0,null,null,0,"i",[["class","fas fa-times"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,Xl)),e.qb(34,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,1,0,t.field),n(l,5,0,t.getType()),n(l,7,0,t.CharacterFieldType.Text),n(l,9,0,t.CharacterFieldType.Description),n(l,11,0,t.CharacterFieldType.Number),n(l,13,0,t.CharacterFieldType.Toggle),n(l,15,0,t.CharacterFieldType.Progress),n(l,17,0,t.CharacterFieldType.Reference),n(l,19,0,t.CharacterFieldType.Options),n(l,21,0,t.CharacterFieldType.List),n(l,25,0,"name"),n(l,34,0,t.showSettings)},function(n,l){var t=l.component;n(l,0,0,e.Bb(l,3).ngClassUntouched,e.Bb(l,3).ngClassTouched,e.Bb(l,3).ngClassPristine,e.Bb(l,3).ngClassDirty,e.Bb(l,3).ngClassValid,e.Bb(l,3).ngClassInvalid,e.Bb(l,3).ngClassPending),n(l,22,0,e.Bb(l,27).ngClassUntouched,e.Bb(l,27).ngClassTouched,e.Bb(l,27).ngClassPristine,e.Bb(l,27).ngClassDirty,e.Bb(l,27).ngClassValid,e.Bb(l,27).ngClassInvalid,e.Bb(l,27).ngClassPending),n(l,29,0,t.showSettings)})}var Ql=t("dWZg"),nt=t("K9Ia"),lt=t("pugT"),tt=t("6blF"),et=t("t9fZ"),ut=t("p0Sj"),it=t("n6gG");function rt(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t]);return n}function ot(n,l){var t=l?"":"none";rt(n.style,{touchAction:l?"":"none",webkitUserDrag:l?"":"none",webkitTapHighlightColor:l?"":"transparent",userSelect:t,msUserSelect:t,webkitUserSelect:t,MozUserSelect:t})}var at=Object(Ql.e)({passive:!1,capture:!0}),st=function(){function n(n,l){var t=this;this._ngZone=n,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new nt.a,this.pointerUp=new nt.a,this._preventScrollListener=function(n){t._activeDragInstances.size&&n.preventDefault()},this._document=l}return n.prototype.registerDropContainer=function(n){if(!this._dropInstances.has(n)){if(this.getDropContainer(n.id))throw Error('Drop instance with id "'+n.id+'" has already been registered.');this._dropInstances.add(n)}},n.prototype.registerDragItem=function(n){var l=this;this._dragInstances.add(n),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){l._document.addEventListener("touchmove",l._preventScrollListener,at)})},n.prototype.removeDropContainer=function(n){this._dropInstances.delete(n)},n.prototype.removeDragItem=function(n){this._dragInstances.delete(n),this.stopDragging(n),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventScrollListener,at)},n.prototype.startDragging=function(n,l){var t=this;if(this._activeDragInstances.add(n),1===this._activeDragInstances.size){var e=l.type.startsWith("touch"),u=e?"touchmove":"mousemove",i=e?"touchend":"mouseup";ot(this._document.body,!1),this._globalListeners.set(u,{handler:function(n){return t.pointerMove.next(n)},options:at}).set(i,{handler:function(n){return t.pointerUp.next(n)},options:!0}),e||this._globalListeners.set("wheel",{handler:this._preventScrollListener,options:at}),this._ngZone.runOutsideAngular(function(){t._globalListeners.forEach(function(n,l){t._document.addEventListener(l,n.handler,n.options)})})}},n.prototype.stopDragging=function(n){this._activeDragInstances.delete(n),0===this._activeDragInstances.size&&(this._clearGlobalListeners(),ot(this._document.body,!0))},n.prototype.isDragging=function(n){return this._activeDragInstances.has(n)},n.prototype.getDropContainer=function(n){return Array.from(this._dropInstances).find(function(l){return l.id===n})},n.prototype.ngOnDestroy=function(){var n=this;this._dragInstances.forEach(function(l){return n.removeDragItem(l)}),this._dropInstances.forEach(function(l){return n.removeDropContainer(l)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()},n.prototype._clearGlobalListeners=function(){var n=this;this._globalListeners.forEach(function(l,t){n._document.removeEventListener(t,l.handler,l.options)}),this._globalListeners.clear()},n.ngInjectableDef=Object(e.T)({factory:function(){return new n(Object(e.X)(e.z),Object(e.X)(I.d))},token:n,providedIn:"root"}),n}(),ct=new e.p("CDK_DRAG_PARENT"),bt=new e.p("CDK_DROP_LIST_CONTAINER");function dt(n){var l=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*l}function gt(n,l){return n.getPropertyValue(l).split(",").map(function(n){return n.trim()})}var ht=new e.p("CDK_DRAG_CONFIG",{providedIn:"root",factory:function(){return{dragStartThreshold:5,pointerDirectionChangeThreshold:5}}}),pt=Object(Ql.e)({passive:!0}),mt=Object(Ql.e)({passive:!1}),ft=function(){function n(n,l,t,u,i,r,o,a,s){var c=this;this.element=n,this.dropContainer=l,this._ngZone=u,this._viewContainerRef=i,this._viewportRuler=r,this._dragDropRegistry=o,this._config=a,this._dir=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new nt.a,this._moveEventSubscriptions=0,this._pointerMoveSubscription=lt.a.EMPTY,this._pointerUpSubscription=lt.a.EMPTY,this._rootElementInitSubscription=lt.a.EMPTY,this.started=new e.m,this.ended=new e.m,this.entered=new e.m,this.exited=new e.m,this.dropped=new e.m,this.moved=tt.a.create(function(n){var l=c._moveEvents.subscribe(n);return c._moveEventSubscriptions++,function(){l.unsubscribe(),c._moveEventSubscriptions--}}),this._pointerDown=function(n){var l=c.getChildHandles();if(l.length){var t=l.find(function(l){var t=l.element.nativeElement,e=n.target;return!!e&&(e===t||t.contains(e))});t&&c._initializeDragSequence(t.element.nativeElement,n)}else c._initializeDragSequence(c._rootElement,n)},this._pointerMove=function(n){var l=c._getConstrainedPointerPosition(n);if(c._hasStartedDragging){if(c._hasMoved=!0,n.preventDefault(),c._updatePointerDirectionDelta(l),c.dropContainer)c._updateActiveDropContainer(l);else{var t=c._activeTransform;t.x=l.x-c._pickupPositionOnPage.x+c._passiveTransform.x,t.y=l.y-c._pickupPositionOnPage.y+c._passiveTransform.y;var e=vt(t.x,t.y);c._rootElement.style.transform=c._initialTransform?c._initialTransform+" "+e:e}c._moveEventSubscriptions>0&&c._ngZone.run(function(){c._moveEvents.next({source:c,pointerPosition:l,event:n,delta:c._pointerDirectionDelta})})}else Math.abs(l.x-c._pickupPositionOnPage.x)+Math.abs(l.y-c._pickupPositionOnPage.y)>=c._config.dragStartThreshold&&(c._hasStartedDragging=!0,c._ngZone.run(function(){return c._startDragSequence()}))},this._pointerUp=function(){if(c._isDragging()&&(c._removeSubscriptions(),c._dragDropRegistry.stopDragging(c),c._hasStartedDragging))return c.dropContainer?void c._animatePreviewToPlaceholder().then(function(){return c._cleanupDragArtifacts()}):(c._passiveTransform.x=c._activeTransform.x,c._passiveTransform.y=c._activeTransform.y,void c._ngZone.run(function(){return c.ended.emit({source:c})}))},this._document=t,o.registerDragItem(this)}return n.prototype.getPlaceholderElement=function(){return this._placeholder},n.prototype.getRootElement=function(){return this._rootElement},n.prototype.reset=function(){this._rootElement.style.transform="",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}},n.prototype.ngAfterViewInit=function(){var n=this;this._rootElementInitSubscription=this._ngZone.onStable.asObservable().pipe(Object(et.a)(1)).subscribe(function(){var l=n._rootElement=n._getRootElement();l.addEventListener("mousedown",n._pointerDown,mt),l.addEventListener("touchstart",n._pointerDown,pt),n._handles.changes.pipe(Object(ut.a)(null)).subscribe(function(){return ot(l,n.getChildHandles().length>0)})})},n.prototype.ngOnDestroy=function(){this._rootElement&&(this._rootElement.removeEventListener("mousedown",this._pointerDown,mt),this._rootElement.removeEventListener("touchstart",this._pointerDown,pt),this._isDragging()&&this._removeElement(this._rootElement)),this._rootElementInitSubscription.unsubscribe(),this._destroyPreview(),this._destroyPlaceholder(),this._nextSibling=null,this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this._moveEvents.complete()},n.prototype._isDragging=function(){return this._dragDropRegistry.isDragging(this)},n.prototype.getChildHandles=function(){var n=this;return this._handles.filter(function(l){return l._parentDrag===n})},n.prototype._initializeDragSequence=function(n,l){if(l.stopPropagation(),l.target&&l.target.draggable&&"mousedown"===l.type&&l.preventDefault(),!this._isDragging()&&(this._isTouchEvent(l)||0===l.button)){null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this.dropContainer,this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollPosition=this._viewportRuler.getViewportScrollPosition(),this._pickupPositionInElement=this._previewTemplate?{x:0,y:0}:this._getPointerPositionInElement(n,l);var t=this._pickupPositionOnPage=this._getPointerPositionOnPage(l);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:t.x,y:t.y},this._dragDropRegistry.startDragging(this,l)}},n.prototype._startDragSequence=function(){if(this.started.emit({source:this}),this.dropContainer){var n=this._rootElement;this._nextSibling=n.nextSibling;var l=this._preview=this._createPreviewElement(),t=this._placeholder=this._createPlaceholderElement();n.style.display="none",this._document.body.appendChild(n.parentNode.replaceChild(t,n)),this._document.body.appendChild(l),this.dropContainer.start()}},n.prototype._cleanupDragArtifacts=function(){var n=this;this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):this._initialContainer.element.nativeElement.appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._ngZone.run(function(){var l=n.dropContainer.getItemIndex(n);n.ended.emit({source:n}),n.dropped.emit({item:n,currentIndex:l,previousIndex:n._initialContainer.getItemIndex(n),container:n.dropContainer,previousContainer:n._initialContainer}),n.dropContainer.drop(n,l,n._initialContainer),n.dropContainer=n._initialContainer})},n.prototype._updateActiveDropContainer=function(n){var l=this,t=n.x,e=n.y,u=this.dropContainer._getSiblingContainerFromPosition(this,t,e);!u&&this.dropContainer!==this._initialContainer&&this._initialContainer._canReturnItem(t,e)&&(u=this._initialContainer),u&&this._ngZone.run(function(){l.exited.emit({item:l,container:l.dropContainer}),l.dropContainer.exit(l),l.entered.emit({item:l,container:u}),l.dropContainer=u,l.dropContainer.enter(l,t,e)}),this.dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=vt(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)},n.prototype._createPreviewElement=function(){var n;if(this._previewTemplate){var l=this._viewContainerRef.createEmbeddedView(this._previewTemplate.templateRef,this._previewTemplate.data);n=l.rootNodes[0],this._previewRef=l,n.style.transform=vt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var t=this._rootElement,e=t.getBoundingClientRect();(n=yt(t)).style.width=e.width+"px",n.style.height=e.height+"px",n.style.transform=vt(e.left,e.top)}return rt(n.style,{position:"fixed",top:"0",left:"0",zIndex:"1000"}),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._dir?this._dir.value:"ltr"),n},n.prototype._createPlaceholderElement=function(){var n;return this._placeholderTemplate?(this._placeholderRef=this._viewContainerRef.createEmbeddedView(this._placeholderTemplate.templateRef,this._placeholderTemplate.data),n=this._placeholderRef.rootNodes[0]):n=yt(this._rootElement),n.classList.add("cdk-drag-placeholder"),n},n.prototype._getPointerPositionInElement=function(n,l){var t=this._rootElement.getBoundingClientRect(),e=n===this._rootElement?null:n,u=e?e.getBoundingClientRect():t,i=this._isTouchEvent(l)?l.targetTouches[0]:l;return{x:u.left-t.left+(i.pageX-u.left-this._scrollPosition.left),y:u.top-t.top+(i.pageY-u.top-this._scrollPosition.top)}},n.prototype._animatePreviewToPlaceholder=function(){var n=this;if(!this._hasMoved)return Promise.resolve();var l=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=vt(l.left,l.top);var t=function(n){var l=getComputedStyle(n),t=gt(l,"transition-property"),e=t.find(function(n){return"transform"===n||"all"===n});if(!e)return 0;var u=t.indexOf(e),i=gt(l,"transition-duration"),r=gt(l,"transition-delay");return dt(i[u])+dt(r[u])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(l){var e=function(t){(!t||t.target===n._preview&&"transform"===t.propertyName)&&(n._preview.removeEventListener("transitionend",e),l(),clearTimeout(u))},u=setTimeout(e,1.5*t);n._preview.addEventListener("transitionend",e)})})},n.prototype._removeElement=function(n){n&&n.parentNode&&n.parentNode.removeChild(n)},n.prototype._getPointerPositionOnPage=function(n){var l=this._isTouchEvent(n)?n.touches[0]:n;return{x:l.pageX-this._scrollPosition.left,y:l.pageY-this._scrollPosition.top}},n.prototype._getConstrainedPointerPosition=function(n){var l=this._getPointerPositionOnPage(n),t=this.dropContainer?this.dropContainer.lockAxis:null;return"x"===this.lockAxis||"x"===t?l.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==t||(l.x=this._pickupPositionOnPage.x),l},n.prototype._isTouchEvent=function(n){return n.type.startsWith("touch")},n.prototype._destroyPreview=function(){this._preview&&this._removeElement(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null},n.prototype._destroyPlaceholder=function(){this._placeholder&&this._removeElement(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null},n.prototype._updatePointerDirectionDelta=function(n){var l=n.x,t=n.y,e=this._pointerDirectionDelta,u=this._pointerPositionAtLastDirectionChange,i=Math.abs(l-u.x),r=Math.abs(t-u.y);return i>this._config.pointerDirectionChangeThreshold&&(e.x=l>u.x?1:-1,u.x=l),r>this._config.pointerDirectionChangeThreshold&&(e.y=t>u.y?1:-1,u.y=t),e},n.prototype._getRootElement=function(){if(this.rootElementSelector)for(var n=this.rootElementSelector,l=this.element.nativeElement.parentElement;l;){if(l.matches?l.matches(n):l.msMatchesSelector(n))return l;l=l.parentElement}return this.element.nativeElement},n.prototype._removeSubscriptions=function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe()},n}();function vt(n,l){return"translate3d("+n+"px, "+l+"px, 0)"}function yt(n){var l=n.cloneNode(!0);return l.removeAttribute("id"),l}function Ct(n,l){return Math.max(0,Math.min(l,n))}var _t=function(){function n(){this._items=new Set}return n.prototype.ngOnDestroy=function(){this._items.clear()},n}(),Bt=0,kt=function(){function n(n,l,t,u,i){this.element=n,this._dragDropRegistry=l,this._changeDetectorRef=t,this._dir=u,this._group=i,this.connectedTo=[],this.orientation="vertical",this.id="cdk-drop-list-"+Bt++,this.enterPredicate=function(){return!0},this.dropped=new e.m,this.entered=new e.m,this.exited=new e.m,this.sorted=new e.m,this._dragging=!1,this._positionCache={items:[],siblings:[],self:{}},this._previousSwap={drag:null,delta:0}}return n.prototype.ngOnInit=function(){this._dragDropRegistry.registerDropContainer(this),this._group&&this._group._items.add(this)},n.prototype.ngOnDestroy=function(){this._dragDropRegistry.removeDropContainer(this),this._group&&this._group._items.delete(this)},n.prototype.start=function(){this._dragging=!0,this._activeDraggables=this._draggables.toArray(),this._cachePositions(),this._changeDetectorRef.markForCheck()},n.prototype.drop=function(n,l,t){this._reset(),this.dropped.emit({item:n,currentIndex:l,previousIndex:t.getItemIndex(n),container:this,previousContainer:t})},n.prototype.enter=function(n,l,t){this.entered.emit({item:n,container:this}),this.start();var e=this._getItemIndexFromPointerPosition(n,l,t),u=this._activeDraggables.indexOf(n),i=this._activeDraggables[e],r=n.getPlaceholderElement();if(u>-1&&this._activeDraggables.splice(u,1),i&&!this._dragDropRegistry.isDragging(i)){var o=i.getRootElement();o.parentElement.insertBefore(r,o),this._activeDraggables.splice(e,0,n)}else this.element.nativeElement.appendChild(r),this._activeDraggables.push(n);r.style.transform="",this._cachePositions()},n.prototype.exit=function(n){this._reset(),this.exited.emit({item:n,container:this})},n.prototype.getItemIndex=function(n){return this._dragging?wt("horizontal"===this.orientation&&this._dir&&"rtl"===this._dir.value?this._positionCache.items.slice().reverse():this._positionCache.items,function(l){return l.drag===n}):this._draggables.toArray().indexOf(n)},n.prototype._sortItem=function(n,l,t,e){var u=this;if(this._isPointerNearDropContainer(l,t)){var i=this._positionCache.items,r=this._getItemIndexFromPointerPosition(n,l,t,e);if(!(-1===r&&i.length>0)){var o="horizontal"===this.orientation,a=wt(i,function(l){return l.drag===n}),s=i[r],c=i[a].clientRect,b=s.clientRect,d=a>r?1:-1;this._previousSwap.drag=s.drag,this._previousSwap.delta=o?e.x:e.y;var g=this._getItemOffsetPx(c,b,d),h=this._getSiblingOffsetPx(a,i,d),p=i.slice();!function(n,l,t){var e=Ct(a,n.length-1),u=Ct(t,n.length-1);if(e!==u){for(var i=n[e],r=u<e?-1:1,o=e;o!==u;o+=r)n[o]=n[o+r];n[u]=i}}(i,0,r),this.sorted.emit({previousIndex:a,currentIndex:r,container:this,item:n}),i.forEach(function(l,t){if(p[t]!==l){var e=l.drag===n,i=e?g:h,r=e?n.getPlaceholderElement():l.drag.getRootElement();l.offset+=i,o?(r.style.transform="translate3d("+l.offset+"px, 0, 0)",u._adjustClientRect(l.clientRect,0,i)):(r.style.transform="translate3d(0, "+l.offset+"px, 0)",u._adjustClientRect(l.clientRect,i,0))}})}}},n.prototype._getSiblingContainerFromPosition=function(n,l,t){var e=this._positionCache.siblings.find(function(n){return Pt(n.clientRect,l,t)});return e&&e.drop.enterPredicate(n,e.drop)?e.drop:null},n.prototype._canReturnItem=function(n,l){return Pt(this._positionCache.self,n,l)},n.prototype._cachePositions=function(){var n=this,l="horizontal"===this.orientation;this._positionCache.self=this.element.nativeElement.getBoundingClientRect(),this._positionCache.items=this._activeDraggables.map(function(l){var t=(n._dragDropRegistry.isDragging(l)?l.getPlaceholderElement():l.getRootElement()).getBoundingClientRect();return{drag:l,offset:0,clientRect:{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}}).sort(function(n,t){return l?n.clientRect.left-t.clientRect.left:n.clientRect.top-t.clientRect.top}),this._positionCache.siblings=this._getConnectedLists().map(function(n){return{drop:n,clientRect:n.element.nativeElement.getBoundingClientRect()}})},n.prototype._reset=function(){this._dragging=!1,this._activeDraggables.forEach(function(n){return n.getRootElement().style.transform=""}),this._activeDraggables=[],this._positionCache.items=[],this._positionCache.siblings=[],this._previousSwap.drag=null,this._previousSwap.delta=0},n.prototype._adjustClientRect=function(n,l,t){n.top+=l,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width},n.prototype._getItemIndexFromPointerPosition=function(n,l,t,e){var u=this,i="horizontal"===this.orientation;return wt(this._positionCache.items,function(r,o,a){var s=r.drag,c=r.clientRect;return s===n?a.length<2:(!e||s!==u._previousSwap.drag||(i?e.x:e.y)!==u._previousSwap.delta)&&(i?l>=Math.floor(c.left)&&l<=Math.floor(c.right):t>=Math.floor(c.top)&&t<=Math.floor(c.bottom))})},n.prototype._isPointerNearDropContainer=function(n,l){var t=this._positionCache.self,e=.05*t.width,u=.05*t.height;return l>t.top-u&&l<t.bottom+u&&n>t.left-e&&n<t.right+e},n.prototype._getItemOffsetPx=function(n,l,t){var e="horizontal"===this.orientation,u=e?l.left-n.left:l.top-n.top;return-1===t&&(u+=e?l.width-n.width:l.height-n.height),u},n.prototype._getSiblingOffsetPx=function(n,l,t){var e="horizontal"===this.orientation,u=l[n].clientRect,i=l[n+-1*t],r=u[e?"width":"height"]*t;if(i){var o=e?"left":"top",a=e?"right":"bottom";-1===t?r-=i.clientRect[o]-u[a]:r+=u[o]-i.clientRect[a]}return r},n.prototype._getConnectedLists=function(){var n=this,l=Object(it.a)(this.connectedTo).map(function(l){return"string"==typeof l?n._dragDropRegistry.getDropContainer(l):l});return this._group&&this._group._items.forEach(function(n){-1===l.indexOf(n)&&l.push(n)}),l.filter(function(l){return l&&l!==n})},n}();function wt(n,l){for(var t=0;t<n.length;t++)if(l(n[t],t,n))return t;return-1}function Pt(n,l,t){return t>=n.top&&t<=n.bottom&&l>=n.left&&l<=n.right}var xt=function(){return function(){}}(),St=t("qAlS"),qt=t("Fzqc"),Dt=function(){return(Dt=Object.assign||function(n){for(var l,t=1,e=arguments.length;t<e;t++)for(var u in l=arguments[t])Object.prototype.hasOwnProperty.call(l,u)&&(n[u]=l[u]);return n}).apply(this,arguments)},Lt=function(){function n(){this.CharacterFieldType=R.a,this.deleted=new e.m,this.fieldAdded=new e.m,this.fieldDeleted=new e.m,this.fieldMoved=new e.m,this.showSettings=!1,this.classes="card card-body mb-3"}return n.prototype.getFields=function(){return this.group.get("fields")},n.prototype.onMoveField=function(n){this.fieldMoved.emit(Dt({},n))},n}(),Ot=e.pb({encapsulation:0,styles:[[".cdk-drop-list-dragging[_ngcontent-%COMP%]   cb-universe-edit-guide-field[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:-webkit-transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1),-webkit-transform 250ms cubic-bezier(0,0,.2,1)}[_nghost-%COMP%]{display:block}input.ng-invalid[_ngcontent-%COMP%]:not(.ng-dirty), textarea.ng-invalid[_ngcontent-%COMP%]:not(.ng-dirty){border-color:#ffc107}input.ng-invalid[_ngcontent-%COMP%]:not(.ng-dirty):focus, textarea.ng-invalid[_ngcontent-%COMP%]:not(.ng-dirty):focus{box-shadow:0 0 0 .2rem rgba(216,203,22,.25)}"]],data:{}});function It(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,27,"div",[["class","dropdown-menu dropdown-menu-right"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,2,"button",[["class","dropdown-item"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.fieldAdded.emit(u.CharacterFieldType.Text)&&e),e},null,null)),(n()(),e.rb(2,0,null,null,0,"i",[["class","fas fa-align-left mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Text "])),(n()(),e.rb(4,0,null,null,2,"button",[["class","dropdown-item"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.fieldAdded.emit(u.CharacterFieldType.Description)&&e),e},null,null)),(n()(),e.rb(5,0,null,null,0,"i",[["class","fas fa-align-justify mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Description "])),(n()(),e.rb(7,0,null,null,2,"button",[["class","dropdown-item"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.fieldAdded.emit(u.CharacterFieldType.Number)&&e),e},null,null)),(n()(),e.rb(8,0,null,null,0,"i",[["class","fas fa-sort-numeric-up mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Number "])),(n()(),e.rb(10,0,null,null,2,"button",[["class","dropdown-item"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.fieldAdded.emit(u.CharacterFieldType.Toggle)&&e),e},null,null)),(n()(),e.rb(11,0,null,null,0,"i",[["class","fas fa-toggle-on mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Toggle "])),(n()(),e.rb(13,0,null,null,2,"button",[["class","dropdown-item"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.fieldAdded.emit(u.CharacterFieldType.Progress)&&e),e},null,null)),(n()(),e.rb(14,0,null,null,0,"i",[["class","fas fa-percentage mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Progress "])),(n()(),e.rb(16,0,null,null,2,"button",[["class","dropdown-item"],["disabled",""],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.fieldAdded.emit(u.CharacterFieldType.Reference)&&e),e},null,null)),(n()(),e.rb(17,0,null,null,0,"i",[["class","fas fa-user mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Reference "])),(n()(),e.rb(19,0,null,null,2,"button",[["class","dropdown-item"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.fieldAdded.emit(u.CharacterFieldType.Options)&&e),e},null,null)),(n()(),e.rb(20,0,null,null,0,"i",[["class","fas fa-shapes mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Options "])),(n()(),e.rb(22,0,null,null,2,"button",[["class","dropdown-item"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.fieldAdded.emit(u.CharacterFieldType.List)&&e),e},null,null)),(n()(),e.rb(23,0,null,null,0,"i",[["class","fas fa-list-ol mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["List "])),(n()(),e.rb(25,0,null,null,2,"button",[["class","dropdown-item"],["disabled",""],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.fieldAdded.emit(u.CharacterFieldType.Picture)&&e),e},null,null)),(n()(),e.rb(26,0,null,null,0,"i",[["class","fas fa-image mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Picture "]))],null,null)}function Mt(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"button",[["class","btn btn-outline-danger"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.deleted.emit()&&e),e},null,null)),(n()(),e.rb(1,0,null,null,0,"i",[["class","fas fa-times"]],null,null,null,null,null))],null,null)}function Tt(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,6,"div",[["class","card card-body border-secondary mt-2"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,5,"cb-checkbox-control",[["compressed","true"],["formControlName","required"],["horizontal","true"],["name","Required"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Bl.b,Bl.a)),e.qb(2,49152,null,0,kl.a,[],{compressed:[0,"compressed"],horizontal:[1,"horizontal"],name:[2,"name"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[kl.a]),e.qb(4,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(6,16384,null,0,r.p,[[4,r.o]],null,null)],function(n,l){n(l,2,0,"true","true","Required"),n(l,4,0,"required")},function(n,l){n(l,1,0,e.Bb(l,6).ngClassUntouched,e.Bb(l,6).ngClassTouched,e.Bb(l,6).ngClassPristine,e.Bb(l,6).ngClassDirty,e.Bb(l,6).ngClassValid,e.Bb(l,6).ngClassInvalid,e.Bb(l,6).ngClassPending)})}function Et(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),e.Jb(1,null,[' Two or more of your fields seem to have the same name: "','" '])),(n()(),e.rb(2,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" Please use different, unique names for each of your fields. "]))],null,function(n,l){n(l,1,0,l.context.ngIf)})}function zt(n){return e.Lb(0,[(n()(),e.rb(0,16777216,null,null,6,"cb-universe-edit-guide-field",[["cdkDrag",""],["class","cdk-drag"]],[[2,"cdk-drag-dragging",null]],[[null,"deleted"]],function(n,l,t){var e=!0;return"deleted"===l&&(e=!1!==n.component.fieldDeleted.emit(n.context.index)&&e),e},Wl,jl)),e.Gb(6144,null,ct,null,[ft]),e.qb(2,4341760,[[1,4]],3,ft,[e.k,[3,bt],I.d,e.z,e.P,St.b,st,ht,[2,qt.b]],null,null),e.Hb(603979776,2,{_handles:1}),e.Hb(335544320,3,{_previewTemplate:0}),e.Hb(335544320,4,{_placeholderTemplate:0}),e.qb(6,49152,null,0,Nl,[],{field:[0,"field"]},{deleted:"deleted"}),(n()(),e.ib(0,null,null,0))],function(n,l){n(l,6,0,l.context.$implicit)},function(n,l){n(l,0,0,e.Bb(l,2)._hasStartedDragging&&e.Bb(l,2)._isDragging())})}function At(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,5,"div",[["cdkDropList",""],["class","cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-dragging",null]],[[null,"cdkDropListDropped"]],function(n,l,t){var e=!0;return"cdkDropListDropped"===l&&(e=!1!==n.component.onMoveField(t)&&e),e},null,null)),e.Gb(6144,null,bt,null,[kt]),e.qb(2,212992,null,1,kt,[e.k,st,e.h,[2,qt.b],[2,_t]],null,{dropped:"cdkDropListDropped"}),e.Hb(603979776,1,{_draggables:1}),(n()(),e.ib(16777216,null,null,1,null,zt)),e.qb(5,278528,null,0,I.j,[e.P,e.M,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,2,0),n(l,5,0,t.getFields().controls)},function(n,l){n(l,0,0,e.Bb(l,2).id,e.Bb(l,2)._dragging)})}function Gt(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"h5",[["class","text-muted text-center mb-0"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,['Click "Add" to add new fields to this group']))],null,null)}function Ft(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,31,null,null,null,null,function(n,l,t){var u=!0;return"submit"===l&&(u=!1!==e.Bb(n,1).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Bb(n,1).onReset()&&u),u},null,null)),e.qb(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Gb(2048,null,r.c,null,[r.k]),e.qb(3,16384,null,0,r.q,[[4,r.c]],null,null),(n()(),e.rb(4,0,null,null,19,"div",[["class","input-group"]],null,null,null,null,null)),(n()(),e.rb(5,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["placeholder","Enter a name for this group..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var u=!0;return"input"===l&&(u=!1!==e.Bb(n,6)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Bb(n,6).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Bb(n,6)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Bb(n,6)._compositionEnd(t.target.value)&&u),u},null,null)),e.qb(6,16384,null,0,r.d,[e.E,e.k,[2,r.a]],null,null),e.Gb(1024,null,r.n,function(n){return[n]},[r.d]),e.qb(8,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(10,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(11,16777216,null,null,12,"div",[["class","input-group-append"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),e.Gb(512,null,gl.f,gl.f,[]),e.qb(13,212992,null,0,gl.c,[e.k,e.E,e.P,sn.a,gl.a,gl.f],null,null),(n()(),e.rb(14,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],[[2,"active",null]],[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=0!=(u.showSettings=!u.showSettings)&&e),e},null,null)),(n()(),e.rb(15,0,null,null,0,"i",[["class","fas fa-caret-down"]],null,null,null,null,null)),(n()(),e.rb(16,0,null,null,3,"button",[["class","btn btn-outline-primary dropdown-toggle"],["dropdownToggle",""],["type","button"]],[[2,"rounded-0",null],[2,"border-right-0",null],[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],["document","click"],[null,"keyup.esc"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,17).onClick()&&u),"document:click"===l&&(u=!1!==e.Bb(n,17).onDocumentClick(t)&&u),"keyup.esc"===l&&(u=!1!==e.Bb(n,17).onEsc()&&u),u},null,null)),e.qb(17,147456,null,0,gl.g,[gl.f,e.k],null,null),(n()(),e.Jb(-1,null,[" Add "])),(n()(),e.rb(19,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,It)),e.qb(21,16384,null,0,gl.d,[gl.f,e.P,e.M],null,null),(n()(),e.ib(16777216,null,null,1,null,Mt)),e.qb(23,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,Tt)),e.qb(25,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(26,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,Et)),e.qb(28,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,At)),e.qb(30,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.ib(0,[["noFields",2]],null,0,null,Gt))],function(n,l){var t=l.component;n(l,1,0,t.group),n(l,8,0,"name"),n(l,13,0),n(l,23,0,t.canDelete),n(l,25,0,t.showSettings),n(l,28,0,t.getFields().getError("uniqueGroups")),n(l,30,0,t.getFields().controls.length,e.Bb(l,31))},function(n,l){var t=l.component;n(l,5,0,e.Bb(l,10).ngClassUntouched,e.Bb(l,10).ngClassTouched,e.Bb(l,10).ngClassPristine,e.Bb(l,10).ngClassDirty,e.Bb(l,10).ngClassValid,e.Bb(l,10).ngClassInvalid,e.Bb(l,10).ngClassPending),n(l,11,0,e.Bb(l,13).dropup,e.Bb(l,13).isOpen,e.Bb(l,13).isOpen&&e.Bb(l,13).isBs4),n(l,14,0,t.showSettings),n(l,16,0,t.canDelete,t.canDelete,!0,e.Bb(l,17).isDisabled,e.Bb(l,17).isOpen)})}var Rt=t("uo5A");function Nt(){return function(n){var l,t=new Set;return n.controls.forEach(function(n){var e=n.get("name").value;t.has(e)&&(l=e),t.add(e)}),l?{uniqueGroups:l}:null}}var jt=function(){function n(n,l){this.route=n,this.universeEditService=l,this.guideForm=new r.j({groups:new r.e([],[Nt()])}),this.status={loading:!1}}return n.prototype.addField=function(n,l){var t=this.createFieldScaffold(n);l.get("fields").push(t),this.guideForm.markAsDirty()},n.prototype.addGroup=function(){var n=this.createGroupScaffold();this.getGuideGroups().push(n),this.guideForm.markAsDirty()},n.prototype.canDeactivate=function(){return!this.guideForm.dirty||confirm("You have unsaved changes. Are you sure you want to leave this page?")},n.prototype.deleteField=function(n,l){n.get("fields").removeAt(l),this.guideForm.markAsDirty()},n.prototype.deleteGroup=function(n){this.getGuideGroups().removeAt(n),this.guideForm.markAsDirty()},n.prototype.getGuideGroups=function(){return this.guideForm.get("groups")},n.prototype.getSubmitState=function(){return this.status.loading?_.a.Loading:this.guideForm.valid&&this.guideForm.dirty?_.a.Allowed:_.a.Disabled},n.prototype.moveField=function(n,l,t){var e=n.get("fields"),u=e.at(l);e.removeAt(l),e.insert(t,u),this.guideForm.markAsDirty()},n.prototype.moveGroup=function(n,l){var t=this.getGuideGroups().at(n);this.getGuideGroups().removeAt(n),this.getGuideGroups().insert(l,t),this.guideForm.markAsDirty()},n.prototype.ngOnInit=function(){var n=this;this.universeEditService.getUniverse().subscribe(function(l){n.universe=l,n.patchGuide(n.universe.guide)})},n.prototype.onSubmit=function(){var n=this;this.status={loading:!0,error:void 0,success:void 0},this.universeEditService.update(this.universe.id,{guide:this.guideForm.value}).pipe(Object(ol.a)(function(){n.status.loading=!1,n.guideForm.markAsPristine()})).subscribe(function(l){n.status.success="Successfully updated guide",n.universeEditService.setUniverse(l),n.universe.guide=l.guide,n.patchGuide(n.universe.guide)},function(l){n.status.error=l})},n.prototype.createFieldScaffold=function(n){var l=new r.j({name:new r.h("",[r.w.required]),description:new r.h(""),type:new r.h(n,[r.w.required]),required:new r.h(!0)});switch(n){case R.a.Text:l.addControl("meta",new r.j({pattern:new r.h(""),minLength:new r.h(0,[r.w.minLength(0)]),maxLength:new r.h(80)}));break;case R.a.Description:l.addControl("meta",new r.j({markdown:new r.h(!0),minLength:new r.h(0,[r.w.minLength(0)]),maxLength:new r.h(2e3)}));break;case R.a.Number:l.addControl("meta",new r.j({float:new r.h(!1),min:new r.h(0),max:new r.h(100),tick:new r.h(0,[r.w.min(0)])}));break;case R.a.Progress:l.addControl("meta",new r.j({bar:new r.h(!0),color:new r.h(R.c.Blue),min:new r.h(0),max:new r.h(100),tick:new r.h(0,[r.w.min(0)])}));break;case R.a.Options:l.addControl("meta",new r.j({multiple:new r.h(!1),options:new r.h([])}));break;case R.a.List:l.addControl("meta",new r.j({minElements:new r.h(0,[r.w.min(0)]),maxElements:new r.h(10)}));break;default:l.addControl("meta",new r.j({}))}return l},n.prototype.createGroupScaffold=function(){return new r.j({name:new r.h("",[r.w.required]),fields:new r.e([],[Nt(),Object(Rt.a)(1)]),required:new r.h(!0)})},n.prototype.patchGuide=function(n){var l=this;this.getGuideGroups().controls=[],n.groups.forEach(function(n){var t=l.createGroupScaffold();n.fields.forEach(function(n){var e=l.createFieldScaffold(n.type);t.get("fields").push(e)}),l.getGuideGroups().push(t)}),this.guideForm.patchValue(n)},n}(),Ut=e.pb({encapsulation:0,styles:[[".cdk-drop-list-dragging[_ngcontent-%COMP%]   cb-universe-edit-guide-group[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:-webkit-transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1),-webkit-transform 250ms cubic-bezier(0,0,.2,1)}"]],data:{}});function Jt(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),e.Jb(1,null,[' Two or more of your groups seem to have the same name: "','" '])),(n()(),e.rb(2,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" Please use different, unique names for each of your groups. "]))],null,function(n,l){n(l,1,0,l.context.ngIf)})}function Vt(n){return e.Lb(0,[(n()(),e.rb(0,16777216,null,null,6,"cb-universe-edit-guide-group",[["cdkDrag",""],["class","cdk-drag"]],[[2,"cdk-drag-dragging",null],[8,"className",0]],[[null,"fieldAdded"],[null,"fieldDeleted"],[null,"fieldMoved"],[null,"deleted"]],function(n,l,t){var e=!0,u=n.component;return"fieldAdded"===l&&(e=!1!==u.addField(t,n.context.$implicit)&&e),"fieldDeleted"===l&&(e=!1!==u.deleteField(n.context.$implicit,t)&&e),"fieldMoved"===l&&(e=!1!==u.moveField(n.context.$implicit,t.previousIndex,t.currentIndex)&&e),"deleted"===l&&(e=!1!==u.deleteGroup(n.context.index)&&e),e},Ft,Ot)),e.Gb(6144,null,ct,null,[ft]),e.qb(2,4341760,[[1,4]],3,ft,[e.k,[3,bt],I.d,e.z,e.P,St.b,st,ht,[2,qt.b]],null,null),e.Hb(603979776,2,{_handles:1}),e.Hb(335544320,3,{_previewTemplate:0}),e.Hb(335544320,4,{_placeholderTemplate:0}),e.qb(6,49152,null,0,Lt,[],{canDelete:[0,"canDelete"],group:[1,"group"]},{deleted:"deleted",fieldAdded:"fieldAdded",fieldDeleted:"fieldDeleted",fieldMoved:"fieldMoved"}),(n()(),e.ib(0,null,null,0))],function(n,l){n(l,6,0,0!=l.context.index,l.context.$implicit)},function(n,l){n(l,0,0,e.Bb(l,2)._hasStartedDragging&&e.Bb(l,2)._isDragging(),e.Bb(l,6).classes)})}function Ht(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"small",[["class","text-info form-text ml-2 my-auto"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["You need to make changes before you can save"]))],null,null)}function Kt(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"small",[["class","text-danger form-text ml-2 my-auto"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" There was an error saving the guide, please address your settings before trying again "]))],null,null)}function $t(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,46,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0,i=n.component;return"submit"===l&&(u=!1!==e.Bb(n,2).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Bb(n,2).onReset()&&u),"submit"===l&&(u=!1!==i.onSubmit()&&u),u},null,null)),e.qb(1,16384,null,0,r.y,[],null,null),e.qb(2,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Gb(2048,null,r.c,null,[r.k]),e.qb(4,16384,null,0,r.q,[[4,r.c]],null,null),(n()(),e.rb(5,0,null,null,1,"cb-form-status",[],null,null,null,g.b,g.a)),e.qb(6,49152,null,0,h.a,[],{status:[0,"status"]},null),(n()(),e.ib(16777216,null,null,1,null,Jt)),e.qb(8,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(9,0,null,null,8,"div",[["cdkDropList",""],["class","cdk-drop-list"],["formArrayName","groups"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[8,"id",0],[2,"cdk-drop-list-dragging",null]],[[null,"cdkDropListDropped"]],function(n,l,t){var e=!0;return"cdkDropListDropped"===l&&(e=!1!==n.component.moveGroup(t.previousIndex,t.currentIndex)&&e),e},null,null)),e.Gb(6144,null,bt,null,[kt]),e.qb(11,212992,null,0,r.f,[[3,r.c],[8,null],[8,null]],{name:[0,"name"]},null),e.Gb(2048,null,r.c,null,[r.f]),e.qb(13,16384,null,0,r.q,[[4,r.c]],null,null),e.qb(14,212992,null,1,kt,[e.k,st,e.h,[2,qt.b],[2,_t]],null,{dropped:"cdkDropListDropped"}),e.Hb(603979776,1,{_draggables:1}),(n()(),e.ib(16777216,null,null,1,null,Vt)),e.qb(17,278528,null,0,I.j,[e.P,e.M,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.rb(18,0,null,null,2,"button",[["class","btn btn-outline-primary btn-block"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.addGroup()&&e),e},null,null)),(n()(),e.rb(19,0,null,null,0,"i",[["class","fas fa-plus mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Add a new group "])),(n()(),e.rb(21,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.rb(22,0,null,null,6,"div",[["class","btn-toolbar"]],null,null,null,null,null)),(n()(),e.rb(23,0,null,null,1,"cb-submit-button",[["text","Save changes"]],null,null,null,y.b,y.a)),e.qb(24,49152,null,0,C.a,[],{state:[0,"state"],text:[1,"text"]},null),(n()(),e.ib(16777216,null,null,1,null,Ht)),e.qb(26,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,Kt)),e.qb(28,16384,null,0,I.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(29,0,null,null,3,"small",[["class","form-text text-muted mt-3"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" NOTE: You can drag the cards to rearrange the groups, as well as the fields via their "])),(n()(),e.rb(31,0,null,null,0,"i",[["class","fas fa-bars mx-1"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["handles. "])),(n()(),e.rb(33,0,null,null,9,"small",[["class","form-text text-muted mt-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" For more information on Markdown and RegExp, please see these links:"])),(n()(),e.rb(35,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" Markdown: "])),(n()(),e.rb(37,0,null,null,1,"a",[["href","https://www.markdownguide.org/cheat-sheet"],["target","_blank"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" https://www.markdownguide.org/cheat-sheet "])),(n()(),e.rb(39,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" RegExp: "])),(n()(),e.rb(41,0,null,null,1,"a",[["href","https://www.cheatography.com/davechild/cheat-sheets/regular-expressions"],["target","_blank"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" https://www.cheatography.com/davechild/cheat-sheets/regular-expressions "])),(n()(),e.rb(43,0,null,null,3,"small",[["class","form-text text-muted mt-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" If you cannot save your changes, it is likely there is an issue with the guide."])),(n()(),e.rb(45,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" Please review all of your groups and fields before submission. Every group must have at least one field. "]))],function(n,l){var t=l.component;n(l,2,0,t.guideForm),n(l,6,0,t.status),n(l,8,0,t.getGuideGroups().getError("uniqueGroups")),n(l,11,0,"groups"),n(l,14,0),n(l,17,0,t.getGuideGroups().controls),n(l,24,0,t.getSubmitState(),"Save changes"),n(l,26,0,!t.guideForm.dirty&&!t.status.error),n(l,28,0,t.status.error&&!t.status.loading)},function(n,l){n(l,0,0,e.Bb(l,4).ngClassUntouched,e.Bb(l,4).ngClassTouched,e.Bb(l,4).ngClassPristine,e.Bb(l,4).ngClassDirty,e.Bb(l,4).ngClassValid,e.Bb(l,4).ngClassInvalid,e.Bb(l,4).ngClassPending),n(l,9,0,e.Bb(l,13).ngClassUntouched,e.Bb(l,13).ngClassTouched,e.Bb(l,13).ngClassPristine,e.Bb(l,13).ngClassDirty,e.Bb(l,13).ngClassValid,e.Bb(l,13).ngClassInvalid,e.Bb(l,13).ngClassPending,e.Bb(l,14).id,e.Bb(l,14)._dragging)})}function Zt(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"cb-universe-edit-guide",[],null,null,null,$t,Ut)),e.qb(1,114688,null,0,jt,[a.a,Qn],null,null)],function(n,l){n(l,1,0)},null)}var Yt=e.nb("cb-universe-edit-guide",jt,Zt,{},{},[]),Xt=function(){function n(n,l,t,e){this.route=n,this.universeEditService=l,this.modalService=t,this.router=e,this.settingsForm=new r.j({titleField:new r.h("Name",[r.w.required]),allowAvatars:new r.h(!0),allowLexicographicalOrdering:new r.h(!1)}),this.status={loading:!1}}return n.prototype.canDeactivate=function(){return!this.settingsForm.dirty||confirm("You have unsaved changes. Are you sure you want to leave this page?")},n.prototype.deleteCharacters=function(){var n=this;this.modalRef.hide(),this.universeEditService.deleteCharacters(this.universe).subscribe(function(){n.status.success="All characters successfully deleted"},function(l){n.status.error=l})},n.prototype.deleteUniverse=function(){var n=this;this.modalRef.hide(),this.universeEditService.deleteUniverse(this.universe).subscribe(function(){n.router.navigate([""]),alert("Universe deleted")},function(l){n.status.error=l})},n.prototype.getSubmitState=function(){return this.status.loading?_.a.Loading:this.settingsForm.valid&&this.settingsForm.dirty?_.a.Allowed:_.a.Disabled},n.prototype.ngOnInit=function(){var n=this;this.universeEditService.getUniverse().subscribe(function(l){n.universe=l,n.settingsForm.patchValue(n.universe.settings)})},n.prototype.onSubmit=function(){var n=this;this.status={loading:!1,error:void 0,success:void 0},this.universeEditService.update(this.universe.id,{settings:this.settingsForm.value}).pipe(Object(ol.a)(function(){n.status.loading=!1,n.settingsForm.markAsPristine()})).subscribe(function(l){n.status.success="Successfully updated settings",n.universeEditService.setUniverse(l),n.settingsForm.patchValue(l.settings)},function(l){n.status.error=l})},n.prototype.openModal=function(n){this.modalRef=this.modalService.show(n)},n}(),Wt=t("DQlY"),Qt=e.pb({encapsulation:2,styles:[],data:{}});function ne(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(n()(),e.Jb(2,null,["Deleting ","\u2026"])),(n()(),e.rb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.modalRef.hide()&&e),e},null,null)),(n()(),e.rb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["\xd7"])),(n()(),e.rb(6,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" Are you "])),(n()(),e.rb(8,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,["sure"])),(n()(),e.Jb(-1,null,[" you want to delete this universe? This will also delete all of the characters inside of this universe as well. This action cannot be reversed! "])),(n()(),e.rb(11,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.rb(12,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Cancel"])),(n()(),e.rb(14,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.deleteUniverse()&&e),e},null,null)),(n()(),e.Jb(-1,null,["Delete"]))],null,function(n,l){n(l,2,0,l.component.universe.name)})}function le(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Deleting all characters\u2026"])),(n()(),e.rb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.modalRef.hide()&&e),e},null,null)),(n()(),e.rb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["\xd7"])),(n()(),e.rb(6,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" Are you "])),(n()(),e.rb(8,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,["sure"])),(n()(),e.Jb(-1,null,[" you want to delete all characters? This action cannot be reversed! "])),(n()(),e.rb(11,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),e.rb(12,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Cancel"])),(n()(),e.rb(14,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.deleteCharacters()&&e),e},null,null)),(n()(),e.Jb(-1,null,["Delete"]))],null,null)}function te(n){return e.Lb(0,[(n()(),e.ib(0,[["deleteUniverseModal",2]],null,0,null,ne)),(n()(),e.ib(0,[["deleteCharactersModal",2]],null,0,null,le)),(n()(),e.rb(2,0,null,null,34,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0,i=n.component;return"submit"===l&&(u=!1!==e.Bb(n,4).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Bb(n,4).onReset()&&u),"submit"===l&&(u=!1!==i.onSubmit()&&u),u},null,null)),e.qb(3,16384,null,0,r.y,[],null,null),e.qb(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Gb(2048,null,r.c,null,[r.k]),e.qb(6,16384,null,0,r.q,[[4,r.c]],null,null),(n()(),e.rb(7,0,null,null,1,"cb-form-status",[],null,null,null,g.b,g.a)),e.qb(8,49152,null,0,h.a,[],{status:[0,"status"]},null),(n()(),e.rb(9,0,null,null,18,"div",[["class","col col-md-6"]],null,null,null,null,null)),(n()(),e.rb(10,0,null,null,5,"cb-input-control",[["formControlName","titleField"],["help","The name of the field that represents character names"],["name","Title field"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),e.qb(11,49152,null,0,m.a,[],{help:[0,"help"],name:[1,"name"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[m.a]),e.qb(13,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(15,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(16,0,null,null,5,"cb-checkbox-control",[["formControlName","allowAvatars"],["help","Whether characters may have image avatars or not"],["name","Allow avatars"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Bl.b,Bl.a)),e.qb(17,49152,null,0,kl.a,[],{help:[0,"help"],name:[1,"name"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[kl.a]),e.qb(19,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(21,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(22,0,null,null,5,"cb-checkbox-control",[["formControlName","allowLexicographicalOrdering"],["help","Whether characters can be sorted lexicographically or not (e.g. Thompson, Bob H.)"],["name","Allow lexicographical name ordering"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Bl.b,Bl.a)),e.qb(23,49152,null,0,kl.a,[],{help:[0,"help"],name:[1,"name"]},null),e.Gb(1024,null,r.n,function(n){return[n]},[kl.a]),e.qb(25,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.n],[2,r.A]],{name:[0,"name"]},null),e.Gb(2048,null,r.o,null,[r.i]),e.qb(27,16384,null,0,r.p,[[4,r.o]],null,null),(n()(),e.rb(28,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.rb(29,0,null,null,4,"div",[["class","btn-toolbar"]],null,null,null,null,null)),(n()(),e.rb(30,0,null,null,1,"button",[["class","btn btn-danger mr-2"],["type","button"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.openModal(e.Bb(n,0))&&u),u},null,null)),(n()(),e.Jb(-1,null,[" Delete universe "])),(n()(),e.rb(32,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.openModal(e.Bb(n,1))&&u),u},null,null)),(n()(),e.Jb(-1,null,[" Delete all characters "])),(n()(),e.rb(34,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.rb(35,0,null,null,1,"cb-submit-button",[["text","Save changes"]],null,null,null,y.b,y.a)),e.qb(36,49152,null,0,C.a,[],{state:[0,"state"],text:[1,"text"]},null)],function(n,l){var t=l.component;n(l,4,0,t.settingsForm),n(l,8,0,t.status),n(l,11,0,"The name of the field that represents character names","Title field"),n(l,13,0,"titleField"),n(l,17,0,"Whether characters may have image avatars or not","Allow avatars"),n(l,19,0,"allowAvatars"),n(l,23,0,"Whether characters can be sorted lexicographically or not (e.g. Thompson, Bob H.)","Allow lexicographical name ordering"),n(l,25,0,"allowLexicographicalOrdering"),n(l,36,0,t.getSubmitState(),"Save changes")},function(n,l){n(l,2,0,e.Bb(l,6).ngClassUntouched,e.Bb(l,6).ngClassTouched,e.Bb(l,6).ngClassPristine,e.Bb(l,6).ngClassDirty,e.Bb(l,6).ngClassValid,e.Bb(l,6).ngClassInvalid,e.Bb(l,6).ngClassPending),n(l,10,0,e.Bb(l,15).ngClassUntouched,e.Bb(l,15).ngClassTouched,e.Bb(l,15).ngClassPristine,e.Bb(l,15).ngClassDirty,e.Bb(l,15).ngClassValid,e.Bb(l,15).ngClassInvalid,e.Bb(l,15).ngClassPending),n(l,16,0,e.Bb(l,21).ngClassUntouched,e.Bb(l,21).ngClassTouched,e.Bb(l,21).ngClassPristine,e.Bb(l,21).ngClassDirty,e.Bb(l,21).ngClassValid,e.Bb(l,21).ngClassInvalid,e.Bb(l,21).ngClassPending),n(l,22,0,e.Bb(l,27).ngClassUntouched,e.Bb(l,27).ngClassTouched,e.Bb(l,27).ngClassPristine,e.Bb(l,27).ngClassDirty,e.Bb(l,27).ngClassValid,e.Bb(l,27).ngClassInvalid,e.Bb(l,27).ngClassPending)})}function ee(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"cb-universe-edit-settings",[],null,null,null,te,Qt)),e.qb(1,114688,null,0,Xt,[a.a,Qn,Wt.b,a.k],null,null)],function(n,l){n(l,1,0)},null)}var ue=e.nb("cb-universe-edit-settings",Xt,ee,{},{},[]),ie=function(){function n(){this.backgroundSubject=new yn.a("")}return n.prototype.getBackground=function(){return this.backgroundSubject.asObservable()},n.prototype.setBackground=function(n){this.backgroundSubject.next(n)},n.ngInjectableDef=e.T({factory:function(){return new n},token:n,providedIn:"root"}),n}(),re=function(){function n(n,l){this.landingService=n,this.titleService=l}return n.prototype.ngOnDestroy=function(){this.landingService.setBackground("")},n.prototype.ngOnInit=function(){this.titleService.setTitle("CharacterBase"),this.landingService.setBackground("url(assets/landings/v0.4.0.jpg)")},n}(),oe=e.pb({encapsulation:0,styles:[[".dashboard-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:0;padding-bottom:15px;height:100%}"]],data:{}});function ae(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,0,"div",[["class","container dashboard-container"]],null,null,null,null,null))],null,null)}function se(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"cb-universe-landing-page",[],null,null,null,ae,oe)),e.qb(1,245760,null,0,re,[ie,dn.h],null,null)],function(n,l){n(l,1,0)},null)}var ce=e.nb("cb-universe-landing-page",re,se,{},{},[]),be=function(){function n(){}return n.prototype.getGlobe=function(n){return n%4==0?"globe-americas":n%3==0?"globe-asia":n%2==0?"globe-europe":"globe-africa"},n}(),de=e.pb({encapsulation:0,styles:[["[_nghost-%COMP%]{overflow:auto;height:100%}a[_ngcontent-%COMP%]:last-child{border-bottom:0}"]],data:{}});function ge(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,8,"a",[["class","list-group-item list-group-item-action"],["routerLinkActive","list-group-item-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.qb(1,671744,[[2,4]],0,a.n,[a.k,a.a,I.h],{routerLink:[0,"routerLink"]},null),e.Cb(2,2),e.qb(3,1720320,null,2,a.m,[a.k,e.k,e.E,e.h],{routerLinkActive:[0,"routerLinkActive"]},null),e.Hb(603979776,1,{links:1}),e.Hb(603979776,2,{linksWithHrefs:1}),(n()(),e.rb(6,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),e.Jb(7,null,["","\n"])),e.Fb(8,2)],function(n,l){var t=n(l,2,0,"/u",l.context.$implicit.id);n(l,1,0,t),n(l,3,0,"list-group-item-primary")},function(n,l){var t=l.component;n(l,0,0,e.Bb(l,1).target,e.Bb(l,1).href),n(l,6,0,e.tb(1,"fas fa-",t.getGlobe(l.context.index)," mr-2"));var u=e.Kb(l,7,0,n(l,8,0,e.Bb(l.parent,0),l.context.$implicit.name,32));n(l,7,0,u)})}function he(n){return e.Lb(0,[e.Db(0,M.a,[]),(n()(),e.ib(16777216,null,null,1,null,ge)),e.qb(2,278528,null,0,I.j,[e.P,e.M,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.universes)},null)}var pe=function(){function n(){this.classes="universe-list list-group list-group-flush",this.logOut=new e.m,this.version=cn.a.version}return n.prototype.doLogOut=function(){this.logOut.emit()},n}(),me=e.pb({encapsulation:0,styles:[[".list-group-item[_ngcontent-%COMP%]{z-index:2!important;text-decoration:inherit}.logo[_ngcontent-%COMP%]{width:198px}.profile-item[_ngcontent-%COMP%]{padding:.4rem 1.25rem;display:flex;min-height:48px;align-items:center}.profile-actions[_ngcontent-%COMP%]{font-size:inherit!important;line-height:inherit!important;margin-left:auto}[_nghost-%COMP%]{grid-area:sidebar}.create[_ngcontent-%COMP%]{z-index:0}"]],data:{}});function fe(n){return e.Lb(0,[e.Db(0,M.a,[]),(n()(),e.rb(1,0,null,null,3,"div",[["class","list-group-item text-center"]],null,null,null,null,null)),(n()(),e.rb(2,0,null,null,2,"a",[["routerLink",""]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,3).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.qb(3,671744,null,0,a.n,[a.k,a.a,I.h],{routerLink:[0,"routerLink"]},null),(n()(),e.rb(4,0,null,null,0,"img",[["class","logo"],["src","./assets/logo_narrow.png"]],null,null,null,null,null)),(n()(),e.rb(5,0,null,null,8,"div",[["class","list-group-item profile-item small"]],null,null,null,null,null)),(n()(),e.rb(6,0,null,null,0,"i",[["class","fas fa-user mr-2"]],null,null,null,null,null)),(n()(),e.Jb(7,null,[""," "])),e.Fb(8,2),(n()(),e.rb(9,0,null,null,4,"div",[["class","profile-actions"]],null,null,null,null,null)),(n()(),e.rb(10,0,null,null,2,"a",[["routerLink","/settings"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.qb(11,671744,null,0,a.n,[a.k,a.a,I.h],{routerLink:[0,"routerLink"]},null),(n()(),e.rb(12,0,null,null,0,"i",[["class","fas fa-cog mr-2 text-muted"]],null,null,null,null,null)),(n()(),e.rb(13,0,null,null,0,"i",[["class","fas fa-sign-out-alt clickable text-danger"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.doLogOut()&&e),e},null,null)),(n()(),e.rb(14,0,null,null,1,"cb-universe-list",[],null,null,null,he,de)),e.qb(15,49152,null,0,be,[],{universes:[0,"universes"]},null),(n()(),e.rb(16,0,null,null,3,"a",[["class","list-group-item list-group-item-action text-primary text-center create"],["routerLink","/u/new"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Bb(n,17).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.qb(17,671744,null,0,a.n,[a.k,a.a,I.h],{routerLink:[0,"routerLink"]},null),(n()(),e.rb(18,0,null,null,0,"i",[["class","fas fa-plus mr-2"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Create a new universe...\n"])),(n()(),e.rb(20,0,null,null,4,"p",[["class","text-center mt-auto pt-3 text-muted"]],null,null,null,null,null)),(n()(),e.rb(21,0,null,null,1,"a",[["class","mr-2 pr-2 border-right"],["href","https://github.com/Fraedon/characterbase/blob/master/CHANGELOG.md"],["target","_blank"]],null,null,null,null,null)),(n()(),e.Jb(22,null,[" Version "," "])),(n()(),e.rb(23,0,null,null,1,"a",[["href","https://github.com/Fraedon/characterbase"],["target","_blank"]],null,null,null,null,null)),(n()(),e.rb(24,0,null,null,0,"i",[["class","fab fa-github"]],null,null,null,null,null))],function(n,l){var t=l.component;n(l,3,0,""),n(l,11,0,"/settings"),n(l,15,0,t.universes),n(l,17,0,"/u/new")},function(n,l){var t=l.component;n(l,2,0,e.Bb(l,3).target,e.Bb(l,3).href);var u=t.userDisplayName?e.Kb(l,7,0,n(l,8,0,e.Bb(l,0),t.userDisplayName,18)):"";n(l,7,0,u),n(l,10,0,e.Bb(l,11).target,e.Bb(l,11).href),n(l,16,0,e.Bb(l,17).target,e.Bb(l,17).href),n(l,22,0,t.version)})}tt.a.prototype.map=function(n,l){return Object(Cn.a)(n,l)(this)};var ve=function(){function n(n,l,t,e,u){this.authService=n,this.router=l,this.route=t,this.landingService=e,this.universeStateService=u,this.classes="universe-dashboard-page",this.user=n.getUser()}return n.prototype.ngOnInit=function(){var n=this;this.route.data.pipe(Object(Wn.a)()).subscribe(function(l){n.universes$=n.universeStateService.getReferences()}),this.backgroundImage=this.landingService.getBackground().pipe(Object(Ln.a)())},n.prototype.onLogOut=function(){this.authService.logOut(),this.router.navigateByUrl("/login")},n}(),ye=e.pb({encapsulation:0,styles:[[".universe-dashboard-content[_ngcontent-%COMP%]{height:100%;background-size:cover}[_nghost-%COMP%]{display:flex}"]],data:{}});function Ce(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,3,"cb-universe-sidebar",[],[[8,"className",0]],[[null,"logOut"]],function(n,l,t){var e=!0;return"logOut"===l&&(e=!1!==n.component.onLogOut()&&e),e},fe,me)),e.qb(1,49152,null,0,pe,[],{universes:[0,"universes"],userDisplayName:[1,"userDisplayName"]},{logOut:"logOut"}),e.Db(131072,I.b,[e.h]),e.Db(131072,I.b,[e.h]),(n()(),e.rb(4,0,null,null,3,"div",[["class","universe-dashboard-content"]],[[4,"backgroundImage",null]],null,null,null,null)),e.Db(131072,I.b,[e.h]),(n()(),e.rb(6,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.qb(7,212992,null,0,a.p,[a.b,e.P,e.j,[8,null],e.h],null,null)],function(n,l){var t,u=l.component;n(l,1,0,e.Kb(l,1,0,e.Bb(l,2).transform(u.universes$)),null==(t=e.Kb(l,1,1,e.Bb(l,3).transform(u.user)))?null:t.displayName),n(l,7,0)},function(n,l){var t=l.component;n(l,0,0,e.Bb(l,1).classes),n(l,4,0,e.Kb(l,4,0,e.Bb(l,5).transform(t.backgroundImage)))})}function _e(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"cb-universe-dashboard",[],[[8,"className",0]],null,null,Ce,ye)),e.qb(1,114688,null,0,ve,[Gn.a,a.k,a.a,ie,x.a],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,e.Bb(l,1).classes)})}var Be=e.nb("cb-universe-dashboard",ve,_e,{},{},[]),ke=t("6S6A"),we=t("iutN"),Pe=t("fhlH"),xe=t("n+XB"),Se=t("6VE4"),qe=t("Xg1U"),De=t("ES0t"),Le=t("EpvQ"),Oe=function(){function n(n,l){this.characterService=n,this.characterStateService=l}return n.prototype.resolve=function(n,l){var t=this,e=n.params.universeId,u={sort:n.parent.data.universe.settings.allowLexicographicalOrdering?"lexicographical":"nominal",includeHidden:!0,page:0,query:""};return this.characterStateService.clearCharactersAndReferences(),this.characterService.getCharacters(e,u).pipe(Object(_n.a)(function(n){var l;return(l=t.characterStateService).addReferences.apply(l,n.characters)}))},n.ngInjectableDef=e.T({factory:function(){return new n(e.X(Fn.a),e.X(An.a))},token:n,providedIn:"root"}),n}(),Ie=function(){function n(n){this.universeService=n}return n.prototype.resolve=function(n,l){return this.universeService.getCollaborators(n.params.universeId)},n.ngInjectableDef=e.T({factory:function(){return new n(e.X(P.a))},token:n,providedIn:"root"}),n}(),Me=function(){function n(n,l){this.universeService=n,this.universeStateService=l}return n.prototype.resolve=function(n,l){var t=this;return this.universeService.getUniverse(n.params.universeId).pipe(Object(_n.a)(function(n){t.universeStateService.addUniverses(n)}))},n.ngInjectableDef=e.T({factory:function(){return new n(e.X(P.a),e.X(x.a))},token:n,providedIn:"root"}),n}();function Te(n,l,t){return Object(_n.a)(n,l,t)(this)}tt.a.prototype.do=Te,tt.a.prototype._do=Te;var Ee=t("psW0");function ze(n,l){return void 0===l&&(l=Number.POSITIVE_INFINITY),Object(Ee.a)(n,l)(this)}tt.a.prototype.mergeMap=ze,tt.a.prototype.flatMap=ze;var Ae=function(){function n(n,l){this.authService=n,this.router=l}return n.prototype.canActivate=function(n,l){var t=this,e=n.params.universeId;return this.authService.getCollaborations().pipe(Object(Cn.a)(function(n){return n.reduce(function(n,l){return n||l.id===e},!1)}),Object(_n.a)(function(n){n||t.router.navigate([""])}))},n.ngInjectableDef=e.T({factory:function(){return new n(e.X(Gn.a),e.X(a.k))},token:n,providedIn:"root"}),n}(),Ge=function(){function n(n,l){this.authService=n,this.universeStateService=l}return n.prototype.resolve=function(n,l){var t=this;return this.universeStateService.clearReferences(),this.authService.getCollaborations().pipe(Object(_n.a)(function(n){var l;return(l=t.universeStateService).addReferences.apply(l,n)}))},n.ngInjectableDef=e.T({factory:function(){return new n(e.X(Gn.a),e.X(x.a))},token:n,providedIn:"root"}),n}(),Fe=function(){return function(){}}(),Re=t("LOpI"),Ne=t("efFR"),je=t("PCNd"),Ue=t("Yj9t"),Je=t("UAZG"),Ve=t("eajB"),He=t("YVKM"),Ke=t("cZwm"),$e=t("U2N8"),Ze=t("rl6e"),Ye=t("LSOl"),Xe=t("SoaP");t.d(l,"UniversesModuleNgFactory",function(){return We});var We=e.ob(u,[],function(n){return e.yb([e.zb(512,e.j,e.cb,[[8,[i.a,d,O,Xn,rl,dl,_l,Yt,ue,ce,Be,ke.a,we.a,Pe.a,xe.a,Se.a,qe.a,De.a]],[3,e.j],e.x]),e.zb(4608,I.m,I.l,[e.u,[2,I.x]]),e.zb(4608,r.g,r.g,[]),e.zb(4608,r.z,r.z,[]),e.zb(1073742336,I.c,I.c,[]),e.zb(1073742336,a.o,a.o,[[2,a.u],[2,a.k]]),e.zb(1073742336,Fe,Fe,[]),e.zb(1073742336,r.x,r.x,[]),e.zb(1073742336,r.t,r.t,[]),e.zb(1073742336,xt,xt,[]),e.zb(1073742336,Re.b,Re.b,[]),e.zb(1073742336,Ne.b,Ne.b,[]),e.zb(1073742336,je.a,je.a,[]),e.zb(1073742336,gl.e,gl.e,[]),e.zb(1073742336,Ue.a,Ue.a,[]),e.zb(1073742336,Je.a,Je.a,[]),e.zb(1073742336,r.m,r.m,[]),e.zb(1073742336,qt.a,qt.a,[]),e.zb(1073742336,Ql.b,Ql.b,[]),e.zb(1073742336,St.a,St.a,[]),e.zb(1073742336,Q.d,Q.d,[]),e.zb(1073742336,Ve.d,Ve.d,[]),e.zb(1073742336,an.d,an.d,[]),e.zb(1073742336,He.a,He.a,[]),e.zb(1073742336,u,u,[]),e.zb(1024,a.i,function(){return[[{children:[{component:o,path:"settings"},{children:[{component:S,path:"new"},{canActivate:[Ae],children:[{component:jn,children:[{loadChildren:"../characters/characters.module#CharactersModule",path:"c"}],path:"",resolve:{characters:Oe}},{component:nl,children:[{path:"general",component:al,canDeactivate:[Le.a]},{path:"collaborators",component:hl,canDeactivate:[Le.a]},{path:"guide",component:jt,canDeactivate:[Le.a]},{path:"settings",component:Xt,canDeactivate:[Le.a]}],path:"edit"}],path:":universeId",resolve:{universe:Me,collaborators:Ie}}],path:"u"},{component:re,path:""}],component:ve,path:"",resolve:{universes:Ge}}],[{canDeactivate:[Le.a],component:Ke.a,path:"new",resolve:{universe:$e.a}},{children:[{component:Ze.a,path:""},{canDeactivate:[Le.a],component:Ye.a,path:"edit"}],path:":characterId",resolve:{character:Xe.a,universe:$e.a},runGuardsAndResolvers:"always"}]]},[])])})}}]);